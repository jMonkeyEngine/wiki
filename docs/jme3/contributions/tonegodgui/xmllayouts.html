<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>xmllayouts :: jMonkeyEngine Docs</title>
    <link rel="canonical" href="https://wiki.jmonkeyengine.org/docs/jme3/contributions/tonegodgui/xmllayouts.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<meta property="og:image" content="https://wiki.jmonkeyengine.org/_/img/iconx128.png">
<meta property="og:description" content="xmllayouts">
<meta property="og:title" content="jMonkeyEngine Docs">
<link rel="stylesheet" href="../../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../../_/css/vendor/docsearch.min.css">
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://wiki.jmonkeyengine.org">
        <img alt="" src="../../../../_/img/jme-logo.png" height="32" type="image/x-icon">
      </a>
      <div class="navbar-item hide-for-print">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item theme-switch-wrapper">
          <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
          </label>
        </div>
        <a class="navbar-item" href="https://github.com/jmonkeyengine/wiki">Github</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../documentation.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../documentation.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://javadoc.jmonkeyengine.org/v3.3.2-stable">JavaDoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../jme3.html">jMonkeyEngine 3</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Beginner Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_simpleapplication.html">Hello SimpleApplication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_node.html">Hello Node</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_asset.html">Hello Asset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_main_event_loop.html">Hello Main Event Loop</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_input_system.html">Hello Input System</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_material.html">Hello Material</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_animation.html">Hello Animation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_picking.html">Hello Picking</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_collision.html">Hello Collision</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_terrain.html">Hello Terrain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_audio.html">Hello Audio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_effects.html">Hello Effects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../beginner/hello_physics.html">Hello Physics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Intermediate Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../intermediate/best_practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../intermediate/simpleapplication.html">Simple Application</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../intermediate/optimization.html">Optimization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../faq.html">FAQ</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Math Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../math_for_dummies.html">Math For Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../intermediate/math.html">Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../math.html">More Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../rotate.html">Rotate</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../math_video_tutorials.html">Math Video Tutorials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">3D Graphics Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../intermediate/multi-media_asset_pipeline.html">Multi-Media Asset Pipeline</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../scenegraph_for_dummies.html">Scenegraph for Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../beginner/hellovector.html">Hello Vector</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../intermediate/how_to_use_materials.html">How to Use Materials</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../intermediate/transparency_sorting.html">Transparency and Sorting</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../external/blender.html">Importing from Blender</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../external/3dsmax.html">Importing from 3DS Max</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../logo.html">Logo Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../bsd_license.html">License</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../github_tips.html">Github Tips</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../sdk.html">jMonkeyEngine SDK</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../documentation.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Wiki UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../wiki-ui/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../documentation.html">Docs</a></li>
    <li><a href="xmllayouts.html">xmllayouts</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/docs/modules/ROOT/pages/jme3/contributions/tonegodgui/xmllayouts.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">xmllayouts</h1>
<div class="sect1">
<h2 id="using-xml-to-define-layouts"><a class="anchor" href="#using-xml-to-define-layouts"></a>Using XML to Define Layouts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XML Screens leverage the AbstractAppState class for managing your grouped UI components.</p>
</div>
<div class="paragraph">
<p>AppState example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class XMLScreenSample extends AbstractAppState {
    Screen screen;
    Window inventory;

    public XMLScreenSample(Screen screen) {
        // Store a pointer to the screen
        this.screen = screen;
        // Call the xml parser to load your new components
        screen.parseLayout("Interface/Inventory.xml", this);

        // Here we can grab pointers to the loaded elements
        inventory = (Window)screen.getElementById("InventoryWindowID");
        // We'll hide the window initially so we can use an
        // effect to show it from the initialize method
        inventory.hide();
        // grab more pointers to other elements / child elements
    }

    @Override
    public void initialize(AppStateManager stateManager, Application app) {
        super.initialize(stateManager, app);

        // Useful place for running load effects
        inventory.showWithEffect();
    }

    @Override
    public void update(float tpf) {
        //TODO: implement behavior during runtime
    }

    @Override
    public void cleanup() {
        super.cleanup();

        // We can alter the effect to destroy our inventory window
        // when we unload the AppState
        Effect hide = new Effect(Effect.EffectType.FadeOut, Effect.EffectEvent.Hide, 0.25f);
        hide.setDestroyOnHide(true);

        if (inventory.getIsVisible()) {
            inventory.setEffect(hide);
            inventory.hideWithEffect();
        } else {
            screen.removeElement(inventory);
        }

        // Now our UI component scene fades out when the AppState in unloaded.
    }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="a-look-at-the-xml-layout"><a class="anchor" href="#a-look-at-the-xml-layout"></a>A Look at the XML Layout</h3>
<div class="paragraph">
<p>Below is a rather large XML layout with a bunch of different components, method calls, event methods, etc.  It is relative nonsense and just there to show the basic structure.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;root&gt;
    &lt;screen&gt;
        &lt;component type="Window" id="InventoryWindowID" position="15%,15%" dimensions="70%,70%"&gt;
            &lt;method name="setWindowTitle" param0="Inventory" /&gt;
            &lt;component type="Label" position="10,40" dimensions="20%,20" &gt;
                &lt;method name="setText" param0="First Name:" /&gt;
                &lt;method name="setTextAlign" param0="Right" /&gt;
                &lt;method name="setTextVAlign" param0="Center" /&gt;
            &lt;/component&gt;
            &lt;component type="Label" position="10,65" dimensions="20%,20" &gt;
                &lt;method name="setText" param0="Last Name:" /&gt;
                &lt;method name="setTextAlign" param0="Right" /&gt;
                &lt;method name="setTextVAlign" param0="Center" /&gt;
            &lt;/component&gt;
            &lt;component type="Label" position="10,90" dimensions="20%,20" &gt;
                &lt;method name="setText" param0="Address:" /&gt;
                &lt;method name="setTextAlign" param0="Right" /&gt;
                &lt;method name="setTextVAlign" param0="Center" /&gt;
            &lt;/component&gt;
            &lt;component type="Label" position="10,140" dimensions="20%,20" &gt;
            &lt;method name="setText" param0="City:" /&gt;
                &lt;method name="setTextAlign" param0="Right" /&gt;
                &lt;method name="setTextVAlign" param0="Center" /&gt;
            &lt;/component&gt;
            &lt;component type="Label" position="10,165" dimensions="20%,20" &gt;
                &lt;method name="setText" param0="State:" /&gt;
                &lt;method name="setTextAlign" param0="Right" /&gt;
                &lt;method name="setTextVAlign" param0="Center" /&gt;
            &lt;/component&gt;
            &lt;component type="Label" position="10,190" dimensions="20%,20" &gt;
                &lt;method name="setText" param0="Postal Code:" /&gt;
                &lt;method name="setTextAlign" param0="Right" /&gt;
                &lt;method name="setTextVAlign" param0="Center" /&gt;
            &lt;/component&gt;
            &lt;component type="TextField" id="FirstName" position="25%,40" &gt;
                &lt;method name="setType" param0="EXCLUDE_CUSTOM" /&gt;
                &lt;method name="setCustomValidation" param0="!@#$%^*()" /&gt;
            &lt;/component&gt;
            &lt;component type="TextField" id="LastName" position="25%,65" /&gt;
            &lt;component type="TextField" id="Address1" position="25%,90" /&gt;
            &lt;component type="TextField" id="Address2" position="25%,115" /&gt;
            &lt;component type="TextField" id="City" position="25%,140" /&gt;
            &lt;component type="Indicator" id="Indicator1" position="25%,225" orientation="HORIZONTAL" &gt;
                &lt;method name="setAlphaMap" param0="tonegod/gui/style/def/Common/Extras/indicator_am_x.png" /&gt;
                &lt;method name="setIndicatorColor" param0="0,0.65f,0,1" /&gt;
                &lt;method name="setMaxValue" param0="100" /&gt;
                &lt;method name="setCurrentValue" param0="50" /&gt;
                &lt;method name="setDisplayValues" /&gt;
            &lt;/component&gt;
            &lt;component type="ComboBox" id="State" position="25%,165" &gt;
                &lt;method name="addListItem" param0="Alaska" param1="Alaska" /&gt;
                &lt;method name="addListItem" param0="Alabama" param1="Alabama" /&gt;
                &lt;method name="addListItem" param0="Arkansas" param1="Arkansas" /&gt;
                &lt;method name="addListItem" param0="Connecticut" param1="Connecticut" /&gt;
                &lt;method name="addListItem" param0="Deleware" param1="Deleware" /&gt;
                &lt;method name="addListItem" param0="Dakota, North" param1="North Dakota" /&gt;
                &lt;method name="addListItem" param0="Dakota, South" param1="South Dakota" /&gt;
                &lt;method name="addListItem" param0="Georgia" param1="Georgia" /&gt;
                &lt;method name="addListItem" param0="Kentucky" param1="Kentucky" /&gt;
                &lt;method name="addListItem" param0="Maine" param1="Maine" /&gt;
                &lt;method name="addListItem" param0="New Jersey" param1="New Jersey" /&gt;
                &lt;method name="addListItem" param0="New York" param1="New York" /&gt;
                &lt;method name="addListItem" param0="Nevada" param1="Nevada" /&gt;
            &lt;/component&gt;
            &lt;component type="TextField" id="PostalCode" position="25%,190" &gt;
                &lt;method name="setType" param0="INCLUDE_CUSTOM" /&gt;
                &lt;method name="setCustomValidation" param0="1234567890-" /&gt;
                &lt;method name="setMaxLength" param0="10" /&gt;
            &lt;/component&gt;
            &lt;component type="Button" id="SubmitButton" position="75%,87%" dimensions="23%,10%" &gt;
                &lt;method name="setText" param0="Submit" /&gt;
                &lt;eventMethod name="onButtonMouseLeftUp" stateMethodName="invSubmitButtonClick" /&gt;
            &lt;/component&gt;
        &lt;/component&gt;
        &lt;component type="Menu" id="SubMenu1" position="0,0"&gt;
            &lt;method name="addMenuItem" param0="Menu Item 1" param1="1" param2="null" /&gt;
            &lt;method name="addMenuItem" param0="Menu Item 2" param1="2" param2="null" param3="true" /&gt;
            &lt;method name="addMenuItem" param0="Menu Item 3" param1="3" param2="null" param3="true" param4="true" /&gt;
            &lt;method name="addMenuItem" param0="Menu Item 4" param1="4" param2="null" param3="true" param4="true" /&gt;
            &lt;eventMethod name="onMenuItemClicked" stateMethodName="menu1click" /&gt;
        &lt;/component&gt;
        &lt;component type="Menu" id="Menu1" position="0,0"&gt;
            &lt;method name="addMenuItem" param0="Item 1" param1="1" param2="SubMenu1" /&gt;
            &lt;method name="addMenuItem" param0="Item 2" param1="2" param2="null" param3="true" /&gt;
            &lt;eventMethod name="onMenuItemClicked" stateMethodName="menu1click" /&gt;
        &lt;/component&gt;
        &lt;component type="AlertBox" id="Alert1" position="0,0"&gt;
            &lt;method name="setWindowTitle" param0="Hey you!" /&gt;
            &lt;method name="centerToParent" /&gt;
            &lt;eventMethod name="onButtonOkPressed" stateMethodName="alertOkClick" /&gt;
            &lt;effect type="SlideIn" event="Show" duration=".25f" direction="Left" audioFile="fade" volume="1" /&gt;
            &lt;effect type="SlideOut" event="Hide" duration=".25f" direction="Left" audioFile="fade" /&gt;
        &lt;/component&gt;
    &lt;/screen&gt;
&lt;/root&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, you&#8217;ll see that many components have defined an eventMethod tag.  The eventMethod tag defines the AppState method that will be used as a passthrough from the defined control event method.  There is no need to define parameters for these methods, as they simply forward the event methods parameters directly to the defined app state method.  Like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;eventMethod name="onButtonMouseLeftUp" stateMethodName="invSubmitButtonClick" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we&#8217;ll need to add the invSubmitButtonClick method to the AbstractAppState that called the parseLayout method, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void invSubmitButtonClick(MouseButtonEvent evt, boolean isToggled) {
    // We'll show the AlertBox we defined in the layout when this button is clicked
    ((AlertBox)screen.getElementById("Alert1")).showWithEffect();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The quickest way of getting the definition of the event method you are creating, is to create a new instance of the class the event is being passed from, implementing it&#8217;s abstract methods &amp; cutt/paste the needed method.  Then you simply rename it.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright 2020 jMonkeyEngine Wiki Contributors. Licensed BSD-3.</p>
</footer>
<script src="../../../../_/js/vendor/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
var search = docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete
search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
function focusSearchInput () { document.querySelector('#search-input').focus() }
if (document.querySelector('.home-link.is-current')) window.addEventListener('load', focusSearchInput)
</script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
