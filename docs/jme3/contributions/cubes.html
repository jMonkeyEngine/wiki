<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cubes - A Block World Framework :: jMonkeyEngine Docs</title>
    <link rel="canonical" href="https://wiki.jmonkeyengine.org/docs/jme3/contributions/cubes.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
<meta property="og:image" content="https://wiki.jmonkeyengine.org/_/img/iconx128.png">
<meta property="og:description" content="Cubes - A Block World Framework">
<meta property="og:title" content="jMonkeyEngine Docs">
<link rel="stylesheet" href="../../../_/css/site-extra.css">
<link rel="stylesheet" href="../../../_/css/vendor/docsearch.min.css">
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://wiki.jmonkeyengine.org">
        <img alt="" src="../../../_/img/jme-logo.png" height="32" type="image/x-icon">
      </a>
      <div class="navbar-item hide-for-print">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item theme-switch-wrapper">
          <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
          </label>
        </div>
        <a class="navbar-item" href="https://github.com/jmonkeyengine/wiki">Github</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../documentation.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../documentation.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://javadoc.jmonkeyengine.org/v3.3.2-stable">JavaDoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../jme3.html">jMonkeyEngine 3</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Intermediate Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/best_practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/simpleapplication.html">Simple Application</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/optimization.html">Optimization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../faq.html">FAQ</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Math Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math_for_dummies.html">Math For Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/math.html">Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math.html">More Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../rotate.html">Rotate</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math_video_tutorials.html">Math Video Tutorials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">3D Graphics Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/multi-media_asset_pipeline.html">Multi-Media Asset Pipeline</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../scenegraph_for_dummies.html">Scenegraph for Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../tutorials/beginner/hellovector.html">Hello Vector</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/how_to_use_materials.html">How to Use Materials</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/transparency_sorting.html">Transparency and Sorting</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../external/blender.html">Importing from Blender</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../external/3dsmax.html">Importing from 3DS Max</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../logo.html">Logo Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../bsd_license.html">License</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../github_tips.html">Github Tips</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../sdk.html">jMonkeyEngine SDK</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../tutorials/beginner/beginner.html">Beginner tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_simpleapplication.html">Hello SimpleApplication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_node.html">Hello Node</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_asset.html">Hello Asset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_main_event_loop.html">Hello Update Loop</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_input_system.html">Hello Input System</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_material.html">Hello Material</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_animation.html">Hello Animation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_picking.html">Hello Picking</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_collision.html">Hello Collision</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_terrain.html">Hello Terrain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_audio.html">Hello Audio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_effects.html">Hello Effects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/beginner/hello_physics.html">Hello Physics</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../documentation.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Wiki UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../wiki-ui/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../documentation.html">Docs</a></li>
    <li><a href="cubes.html">Cubes - A Block World Framework</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/docs/modules/ROOT/pages/jme3/contributions/cubes.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Cubes - A Block World Framework</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This framework is still <strong>work-in-progress</strong> - I&#8217;ll keep you up-to-date about modifications. :)</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As the title says, “Cubes is a framework for block worlds (also called “bloxel or “minecraft-like) - It offers an easy way to add/remove blocks, block skinning, useful tools and user-specific behaviours. “Cubes itself will not contain tools for creating crafting or RPG functionalities, it will <strong>only</strong> help you managing the block system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-origin"><a class="anchor" href="#the-origin"></a>The origin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the summer of 2011, I (destroflyer) started a little minecraft clone (like almost every jMonkey) - nothing special, I just wanted a little block world in which players can walk around, place or remove blocks and the ability to save those maps. It didn&#8217;t take long until I stumbled across the “batch-boxes-to-improve-performance, texture atlas and mesh optimization things - Luckily, I managed to get those to run, played a few rounds with a friend and that was it. The code was really quick 'n dirty and at this time, my studies at the university began. The “game was never started anymore and was hidden in the jME-projects folder - Until a few days ago.</p>
</div>
<div class="paragraph">
<p>Almost every two days, a new thread in the forum appears, where people talk about “bloxel worlds, mesh optimization, batching and so on… As the discussions about the <abbr title="Graphical User Interface">GUI</abbr> frameworks (Nifty and its upcoming alternatives) began, I thought: “Why don&#8217;t you create a block-world-framework, that the people can use easily? :)</p>
</div>
<div class="paragraph">
<p>I read my old code (mainly the chunk management and the mesh optimizer) again and started to code the named framework from scratch - After a few hours, I made the block world run and after 2 days it seemed to work in the way I like it to work.</p>
</div>
<div class="paragraph">
<p>At the moment, the “block engine includes all necessary features for a minecraft-like world and even a few useful tools (e.g. loading blocks from heightmaps, noises, …) - Time to publish a first preview. :)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-it-works"><a class="anchor" href="#how-it-works"></a>How it works</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The vertex buffers, UV coordinates, chunk management, block faces, … … … … nah, just kidding. :P I think, everyone who knows about this topic, knows how bloxel-engines work. And in case you don&#8217;t - There are sooo many topics about this in the forum and even articles on the internet… I don&#8217;t want to explain everything, that was already explained by persons, who can do it much better than me.</p>
</div>
<div class="paragraph">
<p>Nevertheless, here are the basics: Blocks are merged to chunks (e.g. 16x256x16 blocks), so only the according chunks need to be updated when the block is added/removed/whatever. The tricky thing when rendering is to only render the visible faces - If you have a huge mountain of blocks, you only need to render the blocks on the surface. And even in this case, only the faces that point outwards. ;)
The framework does all this for you, no need to worry. You, as user, can just add/remove blocks as you wish without knowing about the chunks, the optimized geometries etc. etc.</p>
</div>
<div class="paragraph">
<p>⇒ You add a block ⇒ You see the block :)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="performance"><a class="anchor" href="#performance"></a>Performance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The performance is good I think - In a test case I had a scene with 1.350.000 blocks (in 4x1x4 chunks of the size 16x256x16) and 20 movements of a block per second - The result was 1200 FPS. The average time to generate the optimized geometry for a chunk was 5ms.</p>
</div>
<div class="paragraph">
<p>Of course, there are cases when every face has to be rendered - But even in generated worst cases I never fell under 300-400 FPS, so it <em>should</em> be fine for this stage of development (More about possible improvements later).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Enough boring words about theory - Here&#8217;s how you use the framework. :) This happens in different parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#../../jme3/contributions/cubes/settings.adoc" class="page unresolved">Settings</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="#../../jme3/contributions/cubes/register_your_blocks.adoc" class="page unresolved">Register Your Blocks</a></p>
</li>
<li>
<p><a href="#../../jme3/contributions/cubes/build_your_block_world.adoc" class="page unresolved">Build Your Block World</a></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>After executing these steps, you should come up with an application like the <a href="#../../jme3/contributions/cubes/basic_example.adoc" class="page unresolved">Basic Example</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="screenshots"><a class="anchor" href="#screenshots"></a>Screenshots</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Those are just some random screenshots that I made while creating and testing the block engine - They show in a nice way, what you can expect from the framework.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="http://destroflyer.mania-community.de/other/imagehost/cubes/test_physics.png" alt="test_physics.png" width="800" height=""></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="http://destroflyer.mania-community.de/other/imagehost/cubes/etherblocks_third_person.jpg" alt="etherblocks_third_person.jpg" width="800" height=""></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="http://destroflyer.mania-community.de/other/imagehost/cubes/wireframe_view.png" alt="wireframe_view.png" width="800" height=""></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="http://destroflyer.mania-community.de/other/imagehost/cubes/test_shapes.png" alt="test_shapes.png" width="800" height=""></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="http://destroflyer.mania-community.de/other/imagehost/cubes/scene_mountains.png" alt="scene_mountains.png" width="800" height=""></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tools"><a class="anchor" href="#tools"></a>Tools</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The framework offers several tools to play around with your blockworld:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#../../jme3/contributions/cubes/tools/heightmaps.adoc" class="page unresolved">Heightmaps</a></p>
</li>
<li>
<p><a href="#../../jme3/contributions/cubes/tools/noise.adoc" class="page unresolved">Noise</a></p>
</li>
<li>
<p><a href="#../../jme3/contributions/cubes/tools/picking.adoc" class="page unresolved">Picking</a></p>
</li>
<li>
<p><a href="#../../jme3/contributions/cubes/tools/serialization.adoc" class="page unresolved">Serialization</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="further-improvements-work-in-progress-things"><a class="anchor" href="#further-improvements-work-in-progress-things"></a>Further improvements / "Work-In-Progress" things</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following list contains things, that are <strong>not yet</strong> (!) part of the framework, but are considered as useful. If you have any ideas what&#8217;s missing or what could be a cool feature, please tell me and (hopefully) it will be on the to-do list. :)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Wiki:</strong> List the included test applications (Tutorial, Heightmap, Noise, Modifications, …)</p>
</li>
<li>
<p><strong>Wiki:</strong> List the included test data (Assets, Blocks, …)</p>
</li>
<li>
<p><strong>Wiki:</strong> Write the missing instructions for some tools (e.g. how to create custom block shapes)</p>
</li>
<li>
<p><strong>BlockTerrain:</strong> Support for dynamic counts of chunks (Automatically add chunks if an out-of-bounds block is added)</p>
</li>
<li>
<p><strong>Lights:</strong> Implement a performant way to calculate if a block is affected by a “light block and modify its texture accordingly</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="where-is-this-available"><a class="anchor" href="#where-is-this-available"></a>Where is this available?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This framework is available as plugin in the jMonkeyEngine SDK (“Tools → “Plugins), so users are able to download and integrate the library easily.</p>
</div>
<div class="paragraph">
<p>Hopefully, this thing will help some of you guys, when it&#8217;s released - Any ideas, hints and comments on this are appreciated. :)</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright 2020 jMonkeyEngine Wiki Contributors. Licensed BSD-3.</p>
</footer>
<script src="../../../_/js/vendor/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
var search = docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete
search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
function focusSearchInput () { document.querySelector('#search-input').focus() }
if (document.querySelector('.home-link.is-current')) window.addEventListener('load', focusSearchInput)
</script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
