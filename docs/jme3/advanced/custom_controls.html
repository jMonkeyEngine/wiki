<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Controls :: jMonkeyEngine Docs</title>
    <link rel="canonical" href="https://wiki.jmonkeyengine.org/docs/jme3/advanced/custom_controls.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
<meta property="og:image" content="https://wiki.jmonkeyengine.org/_/img/iconx128.png">
<meta property="og:description" content="Custom Controls">
<meta property="og:title" content="jMonkeyEngine Docs">
<link rel="stylesheet" href="../../../_/css/site-extra.css">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://wiki.jmonkeyengine.org">
        <img alt="" src="../../../_/img/jMonkeyDocLogo.png" height="32" type="image/x-icon">
      </a>
      <div class="navbar-item hide-for-print">
        <input type="text" placeholder="Search docs..." id="search-input"/>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item theme-switch-wrapper">
          <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
          </label>
        </div>
        <a class="navbar-item" href="https://github.com/jmonkeyengine/wiki">Github</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../documentation.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../documentation.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://javadoc.jmonkeyengine.org/v3.3.2-stable">JavaDoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../jme3.html">jMonkeyEngine 3</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Beginner Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_simpleapplication.html">Hello SimpleApplication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_node.html">Hello Node</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_asset.html">Hello Asset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_main_event_loop.html">Hello Main Event Loop</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_input_system.html">Hello Input System</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_material.html">Hello Material</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_animation.html">Hello Animation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_picking.html">Hello Picking</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_collision.html">Hello Collision</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_terrain.html">Hello Terrain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_audio.html">Hello Audio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_effects.html">Hello Effects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../beginner/hello_physics.html">Hello Physics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Intermediate Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/best_practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/simpleapplication.html">Simple Application</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/optimization.html">Optimization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../faq.html">FAQ</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Math Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math_for_dummies.html">Math For Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/math.html">Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math.html">More Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../rotate.html">Rotate</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math_video_tutorials.html">Math Video Tutorials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">3D Graphics Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/multi-media_asset_pipeline.html">Multi-Media Asset Pipeline</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../scenegraph_for_dummies.html">Scenegraph for Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../beginner/hellovector.html">Hello Vector</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/how_to_use_materials.html">How to Use Materials</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/transparency_sorting.html">Transparency and Sorting</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../external/blender.html">Importing from Blender</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../external/3dsmax.html">Importing from 3DS Max</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../logo.html">Logo Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../bsd_license.html">License</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../github_tips.html">Github Tips</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../sdk.html">jMonkeyEngine SDK</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../documentation.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Wiki UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../wiki-ui/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../documentation.html">Docs</a></li>
    <li><a href="custom_controls.html">Custom Controls</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/docs/modules/ROOT/pages/jme3/advanced/custom_controls.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Custom Controls</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A <code>com.jme3.scene.control.Control</code> is a customizable jME3 interface that allows you to cleanly steer the behaviour of game entities (Spatials), such as artificially intelligent behaviour in NPCs, traps, automatic alarms and doors, animals and pets, self-steering vehicles or platforms – anything that moves and interacts. Several instances of custom Controls together implement the behaviours of a type of Spatial.</p>
</div>
<div class="paragraph">
<p>To control global game behaviour see <a href="application_states.html" class="page">Application States</a> – you often use AppStates and Control together.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.youtube.com/watch?v=MNDiZ9YHIpM">Quick video introduction to Custom Controls</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To control the behaviour of spatials:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create one control for each <em>type of behavior</em>. When you add several controls to one spatial, they will be executed in the order they were added.</p>
<div class="paragraph">
<p>For example, one NPC can be controlled by a PhysicsControl instance and an AIControl instance.</p>
</div>
</li>
<li>
<p>Define the custom control and implement its behaviour in the Control&#8217;s update method:</p>
<div class="ulist">
<ul>
<li>
<p>You can pass arguments into your custom control.</p>
</li>
<li>
<p>In the control class, the object <code>spatial</code> gives you access to the spatial and subspatials that the control is attached to.</p>
</li>
<li>
<p>Here you modify the <code>spatial&#8217;s</code> transformation (move, scale, rotate), play animations, check its environement, define how it acts and reacts.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Add an instance of the Control to a spatial to give it this behavior. The spatial&#8217;s game state is updated automatically from now on.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">spatial.addControl(myControl);</code></pre>
</div>
</div>
<div class="paragraph">
<p>To implement game logic for a type of spatial, you will either extend AbstractControl (most common case), or implement the Control interface, as explained in this article.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use <a href="#">Controls</a> to implement the <em>behaviour of types of game entities</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use Controls to add a type of behaviour (that is, methods and fields) to individual Spatials.</p>
</li>
<li>
<p>Each Control has its own <code>update()</code> loop that hooks into <code>simpleUpdate()</code>. Use Controls to move blocks of code out of the <code>simpleUpdate()</code> loop.</p>
</li>
<li>
<p>One Spatial can be influenced by several Controls. (Very powerful and modular!)</p>
</li>
<li>
<p>Each Spatial needs its own instance of the Control.</p>
</li>
<li>
<p>A Control only has access to and control over the Spatial it is attached to.</p>
</li>
<li>
<p>Controls can be saved as .j3o file together with a Spatial.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples: You can write</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A WalkerNavControl, SwimmerNavControl, FlyerNavControl… that defines how a type of NPC finds their way around. All NPCs can walk, some can fly, others can swim, and some can all three, etc.</p>
</li>
<li>
<p>A PlayerNavControl that is steered by user-configurable keyboard and mouse input.</p>
</li>
<li>
<p>A generic animation control that acts as a common interface that triggers animations (walk, stand, attack, defend) for various entities.</p>
</li>
<li>
<p>A DefensiveBehaviourControl that remote-controls NPC behaviour in fight situations.</p>
</li>
<li>
<p>An IdleBehaviourControl that remote-controls NPC behaviour in neutral situations.</p>
</li>
<li>
<p>A DestructionControl that automatically replaces a structure with an appropriate piece of debris after collision with a projectile…</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The possibilities are endless. <img class="emoji" draggable="false" height="24px" width="24px" src="https://twemoji.maxcdn.com/2/svg/1f604.svg" /></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example-code"><a class="anchor" href="#example-code"></a>Example Code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Other examples include the built-in RigidBodyControl in JME&#8217;s physics integration, the built-in TerrainLODControl that updates the terrain&#8217;s level of detail depending on the viewer&#8217;s perspective, etc.</p>
</div>
<div class="paragraph">
<p>Existing examples in the code base include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-core/src/main/java/com/jme3/animation/AnimControl.java">AnimControl.java</a> allows manipulation of skeletal animation, including blending and multiple channels.</p>
</li>
<li>
<p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-core/src/main/java/com/jme3/scene/control/CameraControl.java">CameraControl.java</a> allows you to sync the camera position with the position of a given spatial.</p>
</li>
<li>
<p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-core/src/main/java/com/jme3/scene/control/BillboardControl.java">BillboardControl.java</a> displays a flat picture orthogonally, e.g. a speech bubble or informational dialog.</p>
</li>
<li>
<p><a href="https://github.com/jMonkeyEngine/jmonkeyengine/tree/master/jme3-bullet/src/common/java/com/jme3/bullet/control">PhysicsControl</a> subclasses (such as CharacterControl, RigidBodyControl, VehicleControl) allow you to add physical properties to any spatial. PhysicsControls tie into capabilities provided by the BulletAppState.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="abstractcontrol-class"><a class="anchor" href="#abstractcontrol-class"></a>AbstractControl Class</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The most common way to create a Control is to create a class that extends AbstractControl.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The AbstractControl can be found under <code>com.jme3.scene.control.AbstractControl</code>. This is a default abstract class that implements the Control interface.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have access to a boolean <code>isEnabled()</code>.</p>
</li>
<li>
<p>You have access to the Spatial object <code>spatial</code>.</p>
</li>
<li>
<p>You override the <code>controlUpdate()</code> method to implement the Spatial&#8217;s behaviour.</p>
</li>
<li>
<p>You have access to a <code>setEnabled(boolean)</code> method. This activates or deactivates this Control&#8217;s behaviour in this spatial temporarily. While the AbstractControl is toggled to be disabled, the <code>controlUpdate()</code> loop is no longer executed.</p>
<div class="paragraph">
<p>For example, you disable your IdleBehaviourControl when you enable your DefensiveBehaviourControl in a spatial.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usage: Your custom subclass implements the three methods <code>controlUpdate()</code>, <code>controlRender()</code>, <code>setSpatial()</code>, and <code>cloneForSpatial()</code> as shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyControl extends AbstractControl implements Savable, Cloneable {
    private int index; // can have custom fields -- example

    public MyControl(){} // empty serialization constructor

    /** Optional custom constructor with arguments that can init custom fields.
      * Note: you cannot modify the spatial here yet!
      */
    public MyControl(int i){
        // index=i; // example
    }

    /** This method is called when the control is added to the spatial,
      * and when the control is removed from the spatial (setting a null value).
      * It can be used for both initialization and cleanup.
      */
    @Override
    public void setSpatial(Spatial spatial) {
        super.setSpatial(spatial);
        /* Example:
        if (spatial != null){
            // initialize
        }else{
            // cleanup
        }
        */
    }

    /** Implement your spatial's behaviour here.
      * From here you can modify the scene graph and the spatial
      * (transform them, get and set userdata, etc).
      * This loop controls the spatial while the Control is enabled.
      */
    @Override
    protected void controlUpdate(float tpf){
        if(spatial != null) {
            // spatial.rotate(tpf,tpf,tpf); // example behaviour
        }
    }

    @Override
    public Control cloneForSpatial(Spatial spatial){
        final MyControl control = new MyControl();
        /* Optional: use setters to copy userdata into the cloned control */
        // control.setIndex(i); // example
        control.setSpatial(spatial);
        return control;
    }

    @Override
    protected void controlRender(RenderManager rm, ViewPort vp){
        /* Optional: rendering manipulation (for advanced users) */
    }

    @Override
    public void read(JmeImporter im) throws IOException {
        super.read(im);
        // im.getCapsule(this).read(...);
    }

    @Override
    public void write(JmeExporter ex) throws IOException {
        super.write(ex);
        // ex.getCapsule(this).write(...);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To learn more about <code>write()</code> and <code>read()</code>, see <a href="save_and_load.html" class="page">Save and Load</a></p>
</li>
<li>
<p>To learn more about <code>setUserData()</code>, see <a href="spatial.html" class="page">Spatial</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-control-interface"><a class="anchor" href="#the-control-interface"></a>The Control Interface</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the less common case that you want to create a Control that also extends another class, create a custom interface that  extends jME3&#8217;s Control interface. Your class can become a Control by implementing the Control interface, and at the same time extending another class.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Control interface can be found under <code>com.jme3.scene.control.Control</code>. It has the following method signatures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cloneForSpatial(Spatial)</code>: Clones the Control and attaches it to a clone of the given Spatial.</p>
<div class="paragraph">
<p>Implement this method to be able to <a href="save_and_load.html" class="page">save() and load()</a> Spatials carrying this Control.</p>
</div>
<div class="paragraph">
<p>The AssetManager also uses this method if the same spatial is loaded twice. You can specify which fields you want your object to reuse (e.g. collisionshapes) in this case.</p>
</div>
</li>
<li>
<p><code>setEnabled(boolean)</code>: Toggles a boolean that enables or disables the Control. Goes with accessor <code>isEnabled();</code>. You test for it in the <code>update(float tpf)</code> loop before you execute anything.</p>
</li>
<li>
<p>There are also some internal methods that you do not call from user code: <code>setSpatial(Spatial s)</code>, <code>update(float tpf);</code>, <code>render(RenderManager rm, ViewPort vp)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a custom control interface.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface MyControlInterface extends Control {
    public void setSomething(int x); // optionally, add custom methods
}</code></pre>
</div>
</div>
</li>
<li>
<p>Create custom Controls implementing your Control interface.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyControl extends MyCustomClass implements MyControlInterface {
    protected Spatial spatial;

    protected boolean enabled = true;

    public MyControl() { } // empty serialization constructor

    public MyControl(int x) { // custom constructor
        super(x);
    }

    @Override
    public void update(float tpf) {
        if (enabled &amp;&amp; spatial != null) {
            // Write custom code to control the spatial here!
        }
    }

    @Override
    public void render(RenderManager rm, ViewPort vp) {
        // optional for advanced users, e.g. to display a debug shape
    }

    @Override
    public Control cloneForSpatial(Spatial spatial) {
        MyControl control = new MyControl();
        // set custom properties
        control.setSpatial(spatial);
        control.setEnabled(isEnabled());
        // set some more properties here...
        return control;
    }

    @Override
    public void setEnabled(boolean enabled) {
        this.enabled = enabled;
    }

    @Override
    public boolean isEnabled() {
        return enabled;
    }

    @Override
    public void setSomething(int z) {
        // You can add custom methods ...
    }

    @Override
    public void write(JmeExporter ex) throws IOException {
        super.write(ex);
        OutputCapsule oc = ex.getCapsule(this);
        oc.write(enabled, "enabled", true);
        oc.write(spatial, "spatial", null);
        // write custom variables ....
    }

    @Override
    public void read(JmeImporter im) throws IOException {
        super.read(im);
        InputCapsule ic = im.getCapsule(this);
        enabled = ic.readBoolean("enabled", true);
        spatial = (Spatial) ic.readSavable("spatial", null);
        // read custom variables ....
    }
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best-practices"><a class="anchor" href="#best-practices"></a>Best Practices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the getControl() accessor to get Control objects from Spatials. No need to pass around lots of object references. Here&#8217;s an example from the <a href="http://code.google.com/p/monkeyzone/">MonkeyZone</a> code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class CharacterAnimControl implements Control {
    ...
    public void setSpatial(Spatial spatial) {
        ...
        animControl      = spatial.getControl(AnimControl.class);
        characterControl = spatial.getControl(CharacterControl.class);
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can create custom Control interfaces so a set of different Controls provide the same methods and can be accessed with the interface class type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface ManualControl extends Control {
    public void steerX(float value);
    public void steerY(float value);
    public void moveX(float value);
    public void moveY(float value);
    public void moveZ(float value);
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you create custom sub-Controls and implement the methods accordingly to the context:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ManualVehicleControl   extends ManualControl {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ManualCharacterControl extends ManualControl {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then add the appropriate controls to spatials:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">characterSpatial.addControl(new ManualCharacterControl());
...
vehicleSpatial.addControl(new ManualVehicleControl());
...</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use the getControl() method on a Spatial to get a specific Control object, and activate its behaviour!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ManualControl c = mySpatial.getControl(ManualControl.class);
c.steerX(steerX);</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright 2020 jMonkeyEngine Wiki Contributors. Licensed BSD-3.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
