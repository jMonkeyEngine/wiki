<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>jMonkeyEngine 3 Tutorial (6) - Hello Materials :: jMonkeyEngine Docs</title>
    <link rel="canonical" href="https://wiki.jmonkeyengine.org/docs/jme3/beginner/hello_material.html">
    <link rel="prev" href="hello_input_system.html">
    <link rel="next" href="hello_animation.html">
    <meta name="keywords" content="documentation, beginner, intro, model, material, color, texture, transparency">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://wiki.jmonkeyengine.org">jMonkeyEngine Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../jme3.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../documentation.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://javadoc.jmonkeyengine.org/v3.3.2-stable">JavaDoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../jme3.html">jMonkeyEngine 3</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Beginner Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_simpleapplication.html">Hello SimpleApplication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_node.html">Hello Node</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_asset.html">Hello Asset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_main_event_loop.html">Hello Main Event Loop</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_input_system.html">Hello Input System</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="hello_material.html">Hello Material</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_animation.html">Hello Animation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_picking.html">Hello Picking</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_collision.html">Hello Collision</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_terrain.html">Hello Terrain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_audio.html">Hello Audio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_effects.html">Hello Effects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hello_physics.html">Hello Physics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Intermediate Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/best_practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/simpleapplication.html">Simple Application</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/optimization.html">Optimization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../faq.html">FAQ</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Math Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math_for_dummies.html">Math For Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/math.html">Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math.html">More Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../rotate.html">Rotate</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../math_video_tutorials.html">Math Video Tutorials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">3D Graphics Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/multi-media_asset_pipeline.html">Multi-Media Asset Pipeline</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../scenegraph_for_dummies.html">Scenegraph for Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="hellovector.html">Hello Vector</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/how_to_use_materials.html">How to Use Materials</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../intermediate/transparency_sorting.html">Transparency and Sorting</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../external/blender.html">Importing from Blender</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../external/3dsmax.html">Importing from 3DS Max</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../logo.html">Logo Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../bsd_license.html">License</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../github_tips.html">Github Tips</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../sdk.html">jMonkeyEngine SDK</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Antora Default UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../antora-ui-default/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../jme3.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../documentation.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../jme3.html">Docs</a></li>
    <li><a href="../../jme3.html">jMonkeyEngine 3</a></li>
    <li>Beginner Tutorials</li>
    <li><a href="hello_material.html">Hello Material</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/docs/modules/ROOT/pages/jme3/beginner/hello_material.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">jMonkeyEngine 3 Tutorial (6) - Hello Materials</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Previous: <a href="hello_input_system.html" class="page">Hello Input System</a>,
Next: <a href="hello_animation.html" class="page">Hello Animation</a></p>
</div>
<div class="paragraph">
<p>The term Material includes everything that influences what the surface of a 3D model looks like: The color, texture, shininess, and opacity/transparency. Plain coloring is covered in <a href="hello_node.html" class="page">Hello Node</a>. Loading models that come with materials is covered in <a href="hello_asset.html" class="page">Hello Asset</a>. In this tutorial you learn to create and use custom JME3 Material Definitions.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../../_images/jme3/beginner/beginner-materials.png" alt="beginner-materials.png" width="320" height="240">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use the example assets in a new jMonkeyEngine SDK project, right-click your project, select “Properties, go to “Libraries, press “Add Library and add the “jme3-test-data library.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sample-code"><a class="anchor" href="#sample-code"></a>Sample Code</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package jme3test.helloworld;

import com.jme3.app.SimpleApplication;
import com.jme3.light.DirectionalLight;
import com.jme3.material.Material;
import com.jme3.material.RenderState.BlendMode;
import com.jme3.math.ColorRGBA;
import com.jme3.math.Vector3f;
import com.jme3.renderer.queue.RenderQueue.Bucket;
import com.jme3.scene.Geometry;
import com.jme3.scene.shape.Box;
import com.jme3.scene.shape.Sphere;
import com.jme3.texture.Texture;
import com.jme3.util.TangentBinormalGenerator;

/** Sample 6 - how to give an object's surface a material and texture.
 * How to make objects transparent. How to make bumpy and shiny surfaces.  */
public class HelloMaterial extends SimpleApplication {

  public static void main(String[] args) {
    HelloMaterial app = new HelloMaterial();
    app.start();
  }

  @Override
  public void simpleInitApp() {

    /** A simple textured cube -- in good MIP map quality. */
    Box cube1Mesh = new Box( 1f,1f,1f);
    Geometry cube1Geo = new Geometry("My Textured Box", cube1Mesh);
    cube1Geo.setLocalTranslation(new Vector3f(-3f,1.1f,0f));
    Material cube1Mat = new Material(assetManager,
        "Common/MatDefs/Misc/Unshaded.j3md");
    Texture cube1Tex = assetManager.loadTexture(
        "Interface/Logo/Monkey.jpg");
    cube1Mat.setTexture("ColorMap", cube1Tex);
    cube1Geo.setMaterial(cube1Mat);
    rootNode.attachChild(cube1Geo);

    /** A translucent/transparent texture, similar to a window frame. */
    Box cube2Mesh = new Box( 1f,1f,0.01f);
    Geometry cube2Geo = new Geometry("window frame", cube2Mesh);
    Material cube2Mat = new Material(assetManager,
        "Common/MatDefs/Misc/Unshaded.j3md");
    cube2Mat.setTexture("ColorMap",
        assetManager.loadTexture("Textures/ColoredTex/Monkey.png"));
    cube2Mat.getAdditionalRenderState().setBlendMode(BlendMode.Alpha);
    cube2Geo.setQueueBucket(Bucket.Transparent);
    cube2Geo.setMaterial(cube2Mat);
    rootNode.attachChild(cube2Geo);

    /** A bumpy rock with a shiny light effect.*/
    Sphere sphereMesh = new Sphere(32,32, 2f);
    Geometry sphereGeo = new Geometry("Shiny rock", sphereMesh);
    sphereMesh.setTextureMode(Sphere.TextureMode.Projected); // better quality on spheres
    TangentBinormalGenerator.generate(sphereMesh);           // for lighting effect
    Material sphereMat = new Material(assetManager,
        "Common/MatDefs/Light/Lighting.j3md");
    sphereMat.setTexture("DiffuseMap",
        assetManager.loadTexture("Textures/Terrain/Pond/Pond.jpg"));
    sphereMat.setTexture("NormalMap",
        assetManager.loadTexture("Textures/Terrain/Pond/Pond_normal.png"));
    sphereMat.setBoolean("UseMaterialColors",true);
    sphereMat.setColor("Diffuse",ColorRGBA.White);
    sphereMat.setColor("Specular",ColorRGBA.White);
    sphereMat.setFloat("Shininess", 64f);  // [0,128]
    sphereGeo.setMaterial(sphereMat);
    sphereGeo.setLocalTranslation(0,2,-2); // Move it a bit
    sphereGeo.rotate(1.6f, 0, 0);          // Rotate it a bit
    rootNode.attachChild(sphereGeo);

    /** Must add a light to make the lit object visible! */
    DirectionalLight sun = new DirectionalLight();
    sun.setDirection(new Vector3f(1,0,-2).normalizeLocal());
    sun.setColor(ColorRGBA.White);
    rootNode.addLight(sun);

  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Left – A cube with a brown monkey texture.</p>
</li>
<li>
<p>Right – A translucent monkey picture in front of a shiny bumpy rock.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Move around with the WASD keys to have a closer look at the translucency, and the rock&#8217;s bumpiness.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="simple-unshaded-texture"><a class="anchor" href="#simple-unshaded-texture"></a>Simple Unshaded Texture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Typically you want to give objects in your scene textures: It can be rock, grass, brick, wood, water, metal, paper… A texture is a normal image file in JPG or PNG format. In this example, you create a box with a simple unshaded Monkey texture as material.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    /** A simple textured cube -- in good MIP map quality. */
    Box cube1Mesh = new Box( 1f,1f,1f);
    Geometry cube1Geo = new Geometry("My Textured Box", cube1Mesh);
    cube1Geo.setLocalTranslation(new Vector3f(-3f,1.1f,0f));
    Material cube1Mat = new Material(assetManager,
        "Common/MatDefs/Misc/Unshaded.j3md");
    Texture cube1Tex = assetManager.loadTexture(
        "Interface/Logo/Monkey.jpg");
    cube1Mat.setTexture("ColorMap", cube1Tex);
    cube1Geo.setMaterial(cube1Mat);
    rootNode.attachChild(cube1Geo);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is what we did: to create a textured box:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a Geometry <code>cube1Geo</code> from a Box mesh <code>cube1Mesh</code>.</p>
</li>
<li>
<p>Create a Material <code>cube1Mat</code> based on jME3&#8217;s default <code>Unshaded.j3md</code> material definition.</p>
</li>
<li>
<p>Create a texture <code>cube1Tex</code> from the <code>Monkey.jpg</code> file in the <code>assets/Interface/Logo/</code> directory of the project.</p>
</li>
<li>
<p>Load the texture <code>cube1Tex</code> into the <code>ColorMap</code> layer of the material <code>cube1Mat</code>.</p>
</li>
<li>
<p>Apply the material to the cube, and attach the cube to the rootnode.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="transparent-unshaded-texture"><a class="anchor" href="#transparent-unshaded-texture"></a>Transparent Unshaded Texture</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>Monkey.png</code> is the same texture as <code>Monkey.jpg</code>, but with an added alpha channel. The alpha channel allows you to specify which areas of the texture you want to be opaque or transparent: Black areas of the alpha channel remain opaque, gray areas become translucent, and white areas become transparent.</p>
</div>
<div class="paragraph">
<p>For a partially translucent/transparent texture, you need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Texture with alpha channel</p>
</li>
<li>
<p>A Texture with blend mode of <code>BlendMode.Alpha</code></p>
</li>
<li>
<p>A Geometry in the <code>Bucket.Transparent</code> render bucket.<br>
This bucket ensures that the transparent object is drawn on top of objects behind it, and they show up correctly under the transparent parts.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    /** A translucent/transparent texture, similar to a window frame. */
    Box cube2Mesh = new Box( 1f,1f,0.01f);
    Geometry cube2Geo = new Geometry("window frame", cube2Mesh);
    Material cube2Mat = new Material(assetManager,
    "Common/MatDefs/Misc/Unshaded.j3md");
    cube2Mat.setTexture("ColorMap",
        assetManager.loadTexture("Textures/ColoredTex/Monkey.png"));
    cube2Mat.getAdditionalRenderState().setBlendMode(BlendMode.Alpha);  // !
    cube2Geo.setQueueBucket(Bucket.Transparent);                        // !
    cube2Geo.setMaterial(cube2Mat);
    rootNode.attachChild(cube2Geo);</code></pre>
</div>
</div>
<div class="paragraph">
<p>For non-transparent objects, the drawing order is not so important, because the z-buffer already keeps track of whether a pixel is behind something else or not, and the color of an opaque pixel doesn&#8217;t depend on the pixels under it, this is why opaque Geometries can be drawn in any order.</p>
</div>
<div class="paragraph">
<p>What you did for the transparent texture is the same as before, with only one added step for the transparency.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a Geometry <code>cube2Geo</code> from a Box mesh <code>cube2Mesh</code>. This Box Geometry is flat upright box (because z=0.01f).</p>
</li>
<li>
<p>Create a Material <code>cube2Mat</code> based on jME3&#8217;s default <code>Unshaded.j3md</code> material definition.</p>
</li>
<li>
<p>Create a texture <code>cube2Tex</code> from the <code>Monkey.png</code> file in the <code>assets/Textures/ColoredTex/</code> directory of the project. This PNG file must have an alpha layer.</p>
</li>
<li>
<p><strong>Activate transparency in the material by setting the blend mode to Alpha.</strong></p>
</li>
<li>
<p><strong>Set the QueueBucket of the Geometry to <code>Bucket.Transparent</code>.</strong></p>
</li>
<li>
<p>Load the texture <code>cube2Tex</code> into the <code>ColorMap</code> layer of the material <code>cube2Mat</code>.</p>
</li>
<li>
<p>Apply the material to the cube, and attach the cube to the rootnode.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Learn more about creating PNG images with an alpha layer in the help system of your graphic editor.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="shininess-and-bumpiness"><a class="anchor" href="#shininess-and-bumpiness"></a>Shininess and Bumpiness</h2>
<div class="sectionbody">
<div class="paragraph">
<p>But textures are not all. Have a close look at the shiny sphere – you cannot get such a nice bumpy material with just a plain texture. You see that JME3 also supports so-called Phong-illuminated materials:</p>
</div>
<div class="paragraph">
<p>In a lit material, the standard texture layer is refered to as <em>DiffuseMap</em>, any material can use this layer. A lit material can additionally have lighting effects such as <em>Shininess</em> used together with the <em>SpecularMap</em> layer and <em>Specular</em> color. And you can even get a realistically bumpy or cracked surface with help of the <em>NormalMap</em> layer.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at the part of the code example where you create the shiny bumpy rock.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a Geometry from a Sphere shape. Note that this shape is a normal smooth sphere mesh.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Sphere sphereMesh = new Sphere(32,32, 2f);
    Geometry sphereGeo = new Geometry("Shiny rock", sphereMesh);</code></pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>(Only for Spheres) Change the sphere&#8217;s TextureMode to make the square texture project better onto the sphere.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    sphereMesh.setTextureMode(Sphere.TextureMode.Projected);</code></pre>
</div>
</div>
</li>
<li>
<p>You must generate TangentBinormals for the mesh so you can use the NormalMap layer of the texture.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    TangentBinormalGenerator.generate(sphereMesh);</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Create a material based on the <code>Lighting.j3md</code> default material.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Material sphereMat = new Material(assetManager,
        "Common/MatDefs/Light/Lighting.j3md");</code></pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set a standard rocky texture in the <code>DiffuseMap</code> layer.</p>
<div class="imageblock text-right">
<div class="content">
<img src="https://github.com/jMonkeyEngine/jmonkeyengine/raw/445f7ed010199d30c484fe75bacef4b87f2eb38e/jme3-testdata/src/main/resources/Textures/Terrain/Pond/Pond.jpg" alt="Pond.jpg" width="64" height="64">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    sphereMat.setTexture("DiffuseMap",
        assetManager.loadTexture("Textures/Terrain/Pond/Pond.jpg"));</code></pre>
</div>
</div>
</li>
<li>
<p>Set the <code>NormalMap</code> layer that contains the bumpiness. The NormalMap was generated for this particular DiffuseMap with a special tool (e.g. Blender).</p>
<div class="imageblock text-right">
<div class="content">
<img src="https://github.com/jMonkeyEngine/jmonkeyengine/raw/445f7ed010199d30c484fe75bacef4b87f2eb38e/jme3-testdata/src/main/resources/Textures/Terrain/Pond/Pond_normal.png" alt="Pond_normal.png" width="64" height="64">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    sphereMat.setTexture("NormalMap",
        assetManager.loadTexture("Textures/Terrain/Pond/Pond_normal.png"));</code></pre>
</div>
</div>
</li>
<li>
<p>Set the Material&#8217;s Shininess to a value between 1 and 128. For a rock, a low fuzzy shininess is appropriate. Use material colors to define the shiny Specular color.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    sphereMat.setBoolean("UseMaterialColors",true);
    sphereMat.setColor("Diffuse",ColorRGBA.White);  // minimum material color
    sphereMat.setColor("Specular",ColorRGBA.White); // for shininess
    sphereMat.setFloat("Shininess", 64f); // [1,128] for shininess</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Assign your newly created material to the Geometry.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    sphereGeo.setMaterial(sphereMat);</code></pre>
</div>
</div>
</li>
<li>
<p>Let&#8217;s move and rotate the geometry a bit to position it better.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    sphereGeo.setLocalTranslation(0,2,-2); // Move it a bit
    sphereGeo.rotate(1.6f, 0, 0);          // Rotate it a bit
    rootNode.attachChild(sphereGeo);</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Remember that any Lighting.j3md-based material requires a light source, as shown in the full code sample above.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To deactivate Shininess, do not set <code>Shininess</code> to 0, but instead set the <code>Specular</code> color to <code>ColorRGBA.Black</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="default-material-definitions"><a class="anchor" href="#default-material-definitions"></a>Default Material Definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As you have seen, you can find the following default materials in <code>jme/core-data/Common/MatDefs/…</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Default Definition</th>
<th class="tableblock halign-left valign-top">Usage</th>
<th class="tableblock halign-left valign-top">Parameters</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Misc/Unshaded.j3md</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Colored: Use with mat.setColor() and ColorRGBA.<br>
Textured: Use with mat.setTexture() and Texture.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Color : Color<br>
ColorMap : Texture2D</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Light/Lighting.j3md</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use with shiny Textures, Bump- and NormalMaps textures.<br>
Requires a light source.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ambient, Diffuse, Specular : Color<br>
DiffuseMap, NormalMap, SpecularMap : Texture2D<br>
Shininess : Float</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For a game, you create custom Materials based on these existing MaterialDefintions – as you have just seen in the example with the shiny rock&#8217;s material.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="exercises"><a class="anchor" href="#exercises"></a>Exercises</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="exercise-1-custom-j3m-material"><a class="anchor" href="#exercise-1-custom-j3m-material"></a>Exercise 1: Custom .j3m Material</h3>
<div class="paragraph">
<p>Look at the shiny rocky sphere above again. It takes several lines to create and set the Material.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Note how it loads the <code>Lighting.j3md</code> Material definition.</p>
</li>
<li>
<p>Note how it sets the <code>DiffuseMap</code> and <code>NormalMap</code> to a texture path.</p>
</li>
<li>
<p>Note how it activates <code>UseMaterialColors</code> and sets <code>Specular</code> and <code>Diffuse</code> to 4 float values (RGBA color).</p>
</li>
<li>
<p>Note how it sets <code>Shininess</code> to 64.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to use one custom material for several models, you can store it in a .j3m file, and save a few lines of code every time.</p>
</div>
<div class="paragraph">
<p>You create a j3m file as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a plain text file <code>assets/Materials/MyCustomMaterial.j3m</code> in your project directory, with the following content:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Material My shiny custom material : Common/MatDefs/Light/Lighting.j3md {
     MaterialParameters {
        DiffuseMap : Textures/Terrain/Pond/Pond.jpg
        NormalMap : Textures/Terrain/Pond/Pond_normal.png
        UseMaterialColors : true
        Specular : 1.0 1.0 1.0 1.0
        Diffuse : 1.0 1.0 1.0 1.0
        Shininess : 64.0
     }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Note that <code>Material</code> is a fixed keyword.</p>
</li>
<li>
<p>Note that <code>My shiny custom material</code> is a String that you can choose to describe the material.</p>
</li>
<li>
<p>Note how the code sets all the same properties as before!</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the code sample, comment out the eight lines that have <code>sphereMat</code> in them.</p>
</li>
<li>
<p>Below this line, add the following line:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">sphereGeo.setMaterial((Material) assetManager.loadMaterial(
    "Materials/MyCustomMaterial.j3m"));</code></pre>
</div>
</div>
</li>
<li>
<p>Run the app. The result is the same.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Using this new custom material <code>MyCustomMaterial.j3m</code> only takes one line. You have replaced the eight lines of an on-the-fly material definition with one line that loads a custom material from a file. Using .j3m files is very handy if you use the same material often.</p>
</div>
</div>
<div class="sect2">
<h3 id="exercise-2-bumpiness-and-shininess"><a class="anchor" href="#exercise-2-bumpiness-and-shininess"></a>Exercise 2: Bumpiness and Shininess</h3>
<div class="paragraph">
<p>Go back to the bumpy rock sample above:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Comment out the DiffuseMap line, and run the app. (Uncomment it again.)</p>
<div class="ulist">
<ul>
<li>
<p>Which property of the rock is lost?</p>
</li>
</ul>
</div>
</li>
<li>
<p>Comment out the NormalMap line, and run the app. (Uncomment it again.)</p>
<div class="ulist">
<ul>
<li>
<p>Which property of the rock is lost?</p>
</li>
</ul>
</div>
</li>
<li>
<p>Change the value of Shininess to values like 0, 63, 127.</p>
<div class="ulist">
<ul>
<li>
<p>What aspect of the Shininess changes?</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion"><a class="anchor" href="#conclusion"></a>Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You have learned how to create a Material, specify its properties, and use it on a Geometry. You know how to load an image file (.png, .jpg) as texture into a material. You know to save texture files in a subfolder of your project&#8217;s <code>assets/Textures/</code> directory.</p>
</div>
<div class="paragraph">
<p>You have also learned that a material can be stored in a .j3m file. The file references a built-in MaterialDefinition and specifies values for properties of that MaterialDefinition. You know to save your custom .j3m files in your project&#8217;s <code>assets/Materials/</code> directory.</p>
</div>
<div class="paragraph">
<p>Now that you know how to load models and how to assign good-looking materials to them, let&#8217;s have a look at how to animate models in the next chapter, <a href="hello_animation.html" class="page">Hello Animation</a>.</p>
</div>
<hr>
<div class="paragraph">
<p>See also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../intermediate/how_to_use_materials.html" class="page">How to Use Materials</a></p>
</li>
<li>
<p><a href="../../sdk/material_editing.html" class="page">Material Editing</a></p>
</li>
<li>
<p><a href="https://hub.jmonkeyengine.org/t/jmonkeyengine3-material-system-full-explanation/12947">Materials</a> forum thread</p>
</li>
<li>
<p><a href="http://nbviewer.jupyter.org/github/jMonkeyEngine/wiki/blob/master/src/docs/resources/tutorials/material/jME3_materials.pdf">jME3 Materials documentation (PDF)</a></p>
</li>
<li>
<p><a href="http://www.youtube.com/watch?v=Feu3-mrpolc">Video Tutorial: Editing and Assigning Materials to Models in jMonkeyEngine SDK (from 2010, is there a newer one?</a></p>
</li>
<li>
<p><a href="https://www.blender.org/support/tutorials/">Creating textures in Blender</a></p>
</li>
<li>
<p><a href="http://www.shaders.co.uk/ifw2_textures/whatsin10.htm">Various Material screenshots</a> (Not done with JME3, this is just to show the fantastic range of Material parameters in the hands of an expert, until we have a JME3 demo for it.)</p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="hello_input_system.html">Hello Input System</a></span>
  <span class="next"><a href="hello_animation.html">Hello Animation</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
