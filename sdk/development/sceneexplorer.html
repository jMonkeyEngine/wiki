<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.4"><title>The SceneExplorer</title><link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"></head><body class="article toc2 toc-left"><div id="header"><div id="toolbar"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/src/docs/asciidoc/sdk/development/sceneexplorer.adoc"><i class="fa fa-pencil-square" aria-hidden="true"></i></a><a href="https://github.com/jMonkeyEngine/wiki/new/master/src/docs/asciidoc/sdk/development/"><i class="fa fa-plus-square" aria-hidden="true"></i></a><input dir="auto" style="position: relative; vertical-align: top;" spellcheck="false" autocomplete="off" class="searchbox__input aa-input" id="doc-search" name="search" placeholder="Search in the doc" required="required" type="search"></div><h1>The SceneExplorer</h1><div class="details"><span class="author" id="author"></span><br><span id="revnumber">version ,</span> <span id="revdate">2016/03/17 20:48</span></div><div id="toc" class="toc2"><div id="toctitle">Table of Contents</div><ul class="sectlevel1"><li><a href="#adding-node-types-to-sceneexplorer">Adding Node types to SceneExplorer</a><ul class="sectlevel2"><li><a href="#spatial-example">Spatial Example</a></li><li><a href="#control-example">Control Example</a></li></ul></li><li><a href="#adding-items-to-the-add-and-tools-menus">Adding items to the add and tools menus</a><ul class="sectlevel2"><li><a href="#adding-using-a-wizard">Adding using a Wizard</a></li></ul></li></ul></div></div><div id="content"><div class="sect2"><h3 id="adding-node-types-to-sceneexplorer">Adding Node types to SceneExplorer</h3><div class="paragraph"><p>If your plugin brings in its own SceneGraph objects you can still have them work like any other SceneExplorer item, including its special properties.</p></div>
<div class="paragraph"><p>If you want to support special properties of your objects that are not exposed by the SDK automatically, you will have to create your own class that extends org.openide.nodes.Node and implement the interface com.jme3.gde.core.sceneexplorer.nodes.AbstractSceneExplorerNode. Then you register that class by adding</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code>@org.openide.util.lookup.ServiceProvider(service=SceneExplorerNode.class)</code></pre></div></div>
<div class="literalblock"><div class="content"><pre>above the body of your class. Thats all, your Spatial type will automatically be used and displayed in the SceneExplorer. Make sure you register a jar with the used classes in the plugin preferences under “wrapped libraries, otherwise the IDE cannot access those classes.</pre></div></div>
<div class="paragraph"><p>AbstractSceneExplorerNode brings some other useful features you might want to include like automatic creation of properly threaded properties etc. JmeSpatial for example bases on it. A simple SceneExplorerNode example for an object extending Spatial would be JmeGeometry (see below). Editors for special variable types can be added using the SceneExplorerPropertyEditor interface, which can be registered as a ServiceProvider as well.</p></div>
<div class="paragraph"><p>The SceneExplorerNode can be used for Spatial and Control type objects.</p></div>
<div class="ulist"><ul><li><p><em>Add the “Nodes <abbr title="Application Programming Interface">API</abbr> and “Lookup <abbr title="Application Programming Interface">API</abbr> libraries to your project when you want to use this</em></p></li></ul></div>
<div class="sect2"><h3 id="spatial-example">Spatial Example</h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@org</span>.openide.util.lookup.ServiceProvider(service=SceneExplorerNode.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">JmeGeometry</span> <span class="directive">extends</span> JmeSpatial {

    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">Image</span> smallImage =
            ImageUtilities.loadImage(<span class="string"><span class="delimiter">&quot;</span><span class="content">com/jme3/gde/core/sceneexplorer/nodes/icons/geometry.gif</span><span class="delimiter">&quot;</span></span>);
    <span class="directive">private</span> Geometry geom;

    <span class="directive">public</span> JmeGeometry() {
    }

    <span class="directive">public</span> JmeGeometry(Geometry spatial, SceneExplorerChildren children) {
        <span class="local-variable">super</span>(spatial, children);
        getLookupContents().add(spatial);
        <span class="local-variable">this</span>.geom = spatial;
        setName(spatial.getName());
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Image</span> getIcon(<span class="type">int</span> type) {
        <span class="keyword">return</span> smallImage;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Image</span> getOpenedIcon(<span class="type">int</span> type) {
        <span class="keyword">return</span> smallImage;
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> Sheet createSheet() {
        Sheet sheet = <span class="local-variable">super</span>.createSheet();
        Sheet.Set set = Sheet.createPropertiesSet();
        set.setDisplayName(<span class="string"><span class="delimiter">&quot;</span><span class="content">Geometry</span><span class="delimiter">&quot;</span></span>);
        set.setName(Geometry.class.getName());
        Geometry obj = geom;<span class="comment">//getLookup().lookup(Geometry.class);</span>
        <span class="keyword">if</span> (obj == <span class="predefined-constant">null</span>) {
            <span class="keyword">return</span> sheet;
        }

        set.put(makeProperty(obj, <span class="type">int</span>.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getLodLevel</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">setLodLevel</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Lod Level</span><span class="delimiter">&quot;</span></span>));
        set.put(makeProperty(obj, Material.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getMaterial</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">setMaterial</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Material</span><span class="delimiter">&quot;</span></span>));
        set.put(makeProperty(obj, Mesh.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getMesh</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Mesh</span><span class="delimiter">&quot;</span></span>));

        sheet.put(set);
        <span class="keyword">return</span> sheet;

    }

    <span class="directive">public</span> <span class="predefined-type">Class</span> getExplorerObjectClass() {
        <span class="keyword">return</span> Geometry.class;
    }

    <span class="directive">public</span> <span class="predefined-type">Class</span> getExplorerNodeClass() {
        <span class="keyword">return</span> JmeGeometry.class;
    }

    <span class="directive">public</span> org.openide.nodes.Node<span class="type">[]</span> createNodes(<span class="predefined-type">Object</span> key, <span class="predefined-type">Object</span> key2, <span class="type">boolean</span> readOnly) {
        SceneExplorerChildren children=<span class="keyword">new</span> SceneExplorerChildren((com.jme3.scene.Spatial)key);
        children.setReadOnly(readOnly);
        <span class="keyword">return</span> <span class="keyword">new</span> org.openide.nodes.Node<span class="type">[]</span>{<span class="keyword">new</span> JmeGeometry((Geometry) key, children).setReadOnly(readOnly)};
    }
}</code></pre></div></div></div>
<div class="sect2"><h3 id="control-example">Control Example</h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@org</span>.openide.util.lookup.ServiceProvider(service=SceneExplorerNode.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">JmeGhostControl</span> <span class="directive">extends</span> AbstractSceneExplorerNode {

    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">Image</span> smallImage =
            ImageUtilities.loadImage(<span class="string"><span class="delimiter">&quot;</span><span class="content">com/jme3/gde/core/sceneexplorer/nodes/icons/ghostcontrol.gif</span><span class="delimiter">&quot;</span></span>);
    <span class="directive">private</span> GhostControl control;

    <span class="directive">public</span> JmeGhostControl() {
    }

    <span class="directive">public</span> JmeGhostControl(GhostControl control, DataObject dataObject) {
        <span class="local-variable">super</span>(dataObject);
        getLookupContents().add(<span class="local-variable">this</span>);
        getLookupContents().add(control);
        <span class="local-variable">this</span>.control = control;
        setName(<span class="string"><span class="delimiter">&quot;</span><span class="content">GhostControl</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Image</span> getIcon(<span class="type">int</span> type) {
        <span class="keyword">return</span> smallImage;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Image</span> getOpenedIcon(<span class="type">int</span> type) {
        <span class="keyword">return</span> smallImage;
    }

    <span class="directive">protected</span> SystemAction<span class="type">[]</span> createActions() {
        <span class="keyword">return</span> <span class="keyword">new</span> SystemAction<span class="type">[]</span>{
                    <span class="comment">//                    SystemAction.get(CopyAction.class),</span>
                    <span class="comment">//                    SystemAction.get(CutAction.class),</span>
                    <span class="comment">//                    SystemAction.get(PasteAction.class),</span>
                    SystemAction.get(DeleteAction.class)
                };
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> canDestroy() {
        <span class="keyword">return</span> !readOnly;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> destroy() <span class="directive">throws</span> <span class="exception">IOException</span> {
        <span class="local-variable">super</span>.destroy();
        <span class="directive">final</span> Spatial spat=getParentNode().getLookup().lookup(Spatial.class);
        <span class="keyword">try</span> {
            SceneApplication.getApplication().enqueue(<span class="keyword">new</span> <span class="predefined-type">Callable</span>&lt;<span class="predefined-type">Void</span>&gt;() {

                <span class="directive">public</span> <span class="predefined-type">Void</span> call() <span class="directive">throws</span> <span class="exception">Exception</span> {
                    spat.removeControl(control);
                    <span class="keyword">return</span> <span class="predefined-constant">null</span>;
                }
            }).get();
            ((AbstractSceneExplorerNode)getParentNode()).refresh(<span class="predefined-constant">true</span>);
        } <span class="keyword">catch</span> (<span class="exception">InterruptedException</span> ex) {
            Exceptions.printStackTrace(ex);
        } <span class="keyword">catch</span> (<span class="exception">ExecutionException</span> ex) {
            Exceptions.printStackTrace(ex);
        }
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> Sheet createSheet() {
        Sheet sheet = <span class="local-variable">super</span>.createSheet();
        Sheet.Set set = Sheet.createPropertiesSet();
        set.setDisplayName(<span class="string"><span class="delimiter">&quot;</span><span class="content">GhostControl</span><span class="delimiter">&quot;</span></span>);
        set.setName(GhostControl.class.getName());
        GhostControl obj = control;<span class="comment">//getLookup().lookup(Spatial.class);</span>
        <span class="keyword">if</span> (obj == <span class="predefined-constant">null</span>) {
            <span class="keyword">return</span> sheet;
        }

        set.put(makeProperty(obj, Vector3f.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getPhysicsLocation</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">setPhysicsLocation</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Physics Location</span><span class="delimiter">&quot;</span></span>));
        set.put(makeProperty(obj, Quaternion.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getPhysicsRotation</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">setPhysicsRotation</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Physics Rotation</span><span class="delimiter">&quot;</span></span>));

        set.put(makeProperty(obj, CollisionShape.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getCollisionShape</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">setCollisionShape</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Collision Shape</span><span class="delimiter">&quot;</span></span>));
        set.put(makeProperty(obj, <span class="type">int</span>.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getCollisionGroup</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">setCollisionGroup</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Collision Group</span><span class="delimiter">&quot;</span></span>));
        set.put(makeProperty(obj, <span class="type">int</span>.class, <span class="string"><span class="delimiter">&quot;</span><span class="content">getCollideWithGroups</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">setCollideWithGroups</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Collide With Groups</span><span class="delimiter">&quot;</span></span>));

        sheet.put(set);
        <span class="keyword">return</span> sheet;

    }

    <span class="directive">public</span> <span class="predefined-type">Class</span> getExplorerObjectClass() {
        <span class="keyword">return</span> GhostControl.class;
    }

    <span class="directive">public</span> <span class="predefined-type">Class</span> getExplorerNodeClass() {
        <span class="keyword">return</span> JmeGhostControl.class;
    }

    <span class="directive">public</span> org.openide.nodes.Node<span class="type">[]</span> createNodes(<span class="predefined-type">Object</span> key, DataObject key2, <span class="type">boolean</span> cookie) {
        <span class="keyword">return</span> <span class="keyword">new</span> org.openide.nodes.Node<span class="type">[]</span>{<span class="keyword">new</span> JmeGhostControl((GhostControl) key, key2).setReadOnly(cookie)};
    }
}</code></pre></div></div></div></div>
<div class="sect2"><h3 id="adding-items-to-the-add-and-tools-menus">Adding items to the add and tools menus</h3><div class="paragraph"><p>For adding Spatials, Contols and for general tools theres premade abstract classes that you can use to extend the options. Undo/Redo is handled by the abstract class. AbstractNewSpatial*Wizard*Action allows you to show an AWT wizard before creating the Spatial. You can also just implement the base ServiceProvider class and return any kind of action (such as a wizard), in this case you have to handle the threading yourself!</p></div>
<div class="admonitionblock important"><table><tr><td class="icon"><i class="fa icon-important" title="Important"></i></td><td class="content"><div class="paragraph"><p>Note that the classes you create are singletons which are used across multiple nodes and you should not store any data in local variables!</p></div></td></tr></table></div>
<div class="paragraph"><p>To add a new Tool, create a new AbstractToolAction:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@org</span>.openide.util.lookup.ServiceProvider(service = ToolAction.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">GenerateTangentsTool</span> <span class="directive">extends</span> AbstractToolAction {

    <span class="directive">public</span> GenerateTangentsTool() {
        name = <span class="string"><span class="delimiter">&quot;</span><span class="content">Generate Tangents</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">Object</span> doApplyTool(AbstractSceneExplorerNode rootNode) {
        Geometry geom = rootNode.getLookup().lookup(Geometry.class);
        Mesh mesh = geom.getMesh();
        <span class="keyword">if</span> (mesh != <span class="predefined-constant">null</span>) {
            TangentBinormalGenerator.generate(mesh);
        }
        <span class="keyword">return</span> geom;
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="type">void</span> doUndoTool(AbstractSceneExplorerNode rootNode, <span class="predefined-type">Object</span> undoObject) {
        Geometry geom = rootNode.getLookup().lookup(Geometry.class);
        Mesh mesh = geom.getMesh();
        <span class="keyword">if</span> (mesh != <span class="predefined-constant">null</span>) {
            mesh.clearBuffer(<span class="predefined-type">Type</span>.Tangent);
        }
    }

    <span class="directive">public</span> <span class="predefined-type">Class</span>&lt;?&gt; getNodeClass() {
        <span class="keyword">return</span> JmeGeometry.class;
    }

}</code></pre></div></div>
<div class="paragraph"><p>For a new Spatial or Control, use AbstractNewSpatialAction</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@org</span>.openide.util.lookup.ServiceProvider(service = NewSpatialAction.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">NewSpecialSpatialAction</span> <span class="directive">extends</span> AbstractNewSpatialAction {

    <span class="directive">public</span> NewSpecialSpatialAction() {
        name = <span class="string"><span class="delimiter">&quot;</span><span class="content">Spatial</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> Spatial doCreateSpatial(Node parent) {
        Spatial spatial=<span class="keyword">new</span> Node();
        <span class="keyword">return</span> spatial;
    }
}</code></pre></div></div>
<div class="paragraph"><p>or AbstractNewControlAction:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@org</span>.openide.util.lookup.ServiceProvider(service = NewControlAction.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">NewRigidBodyAction</span> <span class="directive">extends</span> AbstractNewControlAction {

    <span class="directive">public</span> NewRigidBodyAction() {
        name = <span class="string"><span class="delimiter">&quot;</span><span class="content">Static RigidBody</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">Control</span> doCreateControl(Spatial spatial) {
        RigidBodyControl control = spatial.getControl(RigidBodyControl.class);
        <span class="keyword">if</span> (control != <span class="predefined-constant">null</span>) {
            spatial.removeControl(control);
        }
        Node parent = spatial.getParent();
        spatial.removeFromParent();
        control = <span class="keyword">new</span> RigidBodyControl(<span class="integer">0</span>);
        <span class="keyword">if</span> (parent != <span class="predefined-constant">null</span>) {
            parent.attachChild(spatial);
        }
        <span class="keyword">return</span> control;
    }
}</code></pre></div></div>
<div class="sect2"><h3 id="adding-using-a-wizard">Adding using a Wizard</h3><div class="paragraph"><p>You can create a new wizard using the wizard template in the SDK (New File→Module Development→Wizard). The Action that the template creates can easily be changed to one for adding a Control or Spatial or for applying a Tool. Note that we extend AbstractNewSpatial*Wizard*Action here.</p></div>
<div class="paragraph"><p>A good example is the “Add SkyBox Wizard:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@org</span>.openide.util.lookup.ServiceProvider(service = NewSpatialAction.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">AddSkyboxAction</span> <span class="directive">extends</span> AbstractNewSpatialWizardAction {

    <span class="directive">private</span> WizardDescriptor.Panel<span class="type">[]</span> panels;

    <span class="directive">public</span> AddSkyboxAction() {
        name = <span class="string"><span class="delimiter">&quot;</span><span class="content">Skybox..</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">Object</span> showWizard(org.openide.nodes.Node node) {
        WizardDescriptor wizardDescriptor = <span class="keyword">new</span> WizardDescriptor(getPanels());
        wizardDescriptor.setTitleFormat(<span class="keyword">new</span> <span class="predefined-type">MessageFormat</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">{0}</span><span class="delimiter">&quot;</span></span>));
        wizardDescriptor.setTitle(<span class="string"><span class="delimiter">&quot;</span><span class="content">Skybox Wizard</span><span class="delimiter">&quot;</span></span>);
        <span class="predefined-type">Dialog</span> dialog = DialogDisplayer.getDefault().createDialog(wizardDescriptor);
        dialog.setVisible(<span class="predefined-constant">true</span>);
        dialog.toFront();
        <span class="type">boolean</span> cancelled = wizardDescriptor.getValue() != WizardDescriptor.FINISH_OPTION;
        <span class="keyword">if</span> (!cancelled) {
            <span class="keyword">return</span> wizardDescriptor;
        }
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> Spatial doCreateSpatial(Node parent, <span class="predefined-type">Object</span> properties) {
        <span class="keyword">if</span> (properties != <span class="predefined-constant">null</span>) {
            <span class="keyword">return</span> generateSkybox((WizardDescriptor) properties);
        }
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
    }

    <span class="directive">private</span> Spatial generateSkybox(WizardDescriptor wiz) {
        <span class="keyword">if</span> ((<span class="predefined-type">Boolean</span>) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">multipleTextures</span><span class="delimiter">&quot;</span></span>)) {
            Texture south = (Texture) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">textureSouth</span><span class="delimiter">&quot;</span></span>);
            Texture north = (Texture) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">textureNorth</span><span class="delimiter">&quot;</span></span>);
            Texture east = (Texture) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">textureEast</span><span class="delimiter">&quot;</span></span>);
            Texture west = (Texture) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">textureWest</span><span class="delimiter">&quot;</span></span>);
            Texture top = (Texture) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">textureTop</span><span class="delimiter">&quot;</span></span>);
            Texture bottom = (Texture) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">textureBottom</span><span class="delimiter">&quot;</span></span>);
            Vector3f normalScale = (Vector3f) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">normalScale</span><span class="delimiter">&quot;</span></span>);
            <span class="keyword">return</span> SkyFactory.createSky(pm, west, east, north, south, top, bottom, normalScale);
        } <span class="keyword">else</span> {
            Texture textureSingle = (Texture) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">textureSingle</span><span class="delimiter">&quot;</span></span>);
            Vector3f normalScale = (Vector3f) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">normalScale</span><span class="delimiter">&quot;</span></span>);
            <span class="type">boolean</span> useSpheremap = (<span class="predefined-type">Boolean</span>) wiz.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">useSpheremap</span><span class="delimiter">&quot;</span></span>);
            <span class="keyword">return</span> SkyFactory.createSky(pm, textureSingle, normalScale, useSpheremap);
        }
    }

    <span class="comment">/**
     * Initialize panels representing individual wizard's steps and sets
     * various properties for them influencing wizard appearance.
     */</span>
    <span class="directive">private</span> WizardDescriptor.Panel<span class="type">[]</span> getPanels() {
        <span class="keyword">if</span> (panels == <span class="predefined-constant">null</span>) {
            panels = <span class="keyword">new</span> WizardDescriptor.Panel<span class="type">[]</span>{
                        <span class="keyword">new</span> SkyboxWizardPanel1(),
                        <span class="keyword">new</span> SkyboxWizardPanel2()
                    };
            <span class="predefined-type">String</span><span class="type">[]</span> steps = <span class="keyword">new</span> <span class="predefined-type">String</span>[panels.length];
            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="integer">0</span>; i &lt; panels.length; i++) {
                <span class="predefined-type">Component</span> c = panels[i].getComponent();
                <span class="comment">// Default step name to component name of panel. Mainly useful</span>
                <span class="comment">// for getting the name of the target chooser to appear in the</span>
                <span class="comment">// list of steps.</span>
                steps[i] = c.getName();
                <span class="keyword">if</span> (c <span class="keyword">instanceof</span> <span class="predefined-type">JComponent</span>) { <span class="comment">// assume Swing components</span>
                    <span class="predefined-type">JComponent</span> jc = (<span class="predefined-type">JComponent</span>) c;
                    <span class="comment">// Sets step number of a component</span>
                    <span class="comment">// TODO if using org.openide.dialogs &gt;= 7.8, can use WizardDescriptor.PROP_*:</span>
                    jc.putClientProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">WizardPanel_contentSelectedIndex</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">Integer</span>(i));
                    <span class="comment">// Sets steps names for a panel</span>
                    jc.putClientProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">WizardPanel_contentData</span><span class="delimiter">&quot;</span></span>, steps);
                    <span class="comment">// Turn on subtitle creation on each step</span>
                    jc.putClientProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">WizardPanel_autoWizardStyle</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">Boolean</span>.TRUE);
                    <span class="comment">// Show steps on the left side with the image on the background</span>
                    jc.putClientProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">WizardPanel_contentDisplayed</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">Boolean</span>.TRUE);
                    <span class="comment">// Turn on numbering of all steps</span>
                    jc.putClientProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">WizardPanel_contentNumbered</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">Boolean</span>.TRUE);
                }
            }
        }
        <span class="keyword">return</span> panels;
    }
}</code></pre></div></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>The abstract spatial and control actions implement undo/redo automatically, for the ToolActions you have to implement it yourself.</p></div></td></tr></table></div></div></div></div><div id="footer"><div id="footer-text">Version <br>Last updated 2017-11-14 05:28:25 +00:00</div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});</script></body></html>