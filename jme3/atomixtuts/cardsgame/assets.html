<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.4"><title>assets</title><link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"></head><body class="article toc2 toc-left"><div id="header"><div id="toolbar"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/src/docs/asciidoc/jme3/atomixtuts/cardsgame/assets.adoc"><i class="fa fa-pencil-square" aria-hidden="true"></i></a><a href="https://github.com/jMonkeyEngine/wiki/new/master/src/docs/asciidoc/jme3/atomixtuts/cardsgame/"><i class="fa fa-plus-square" aria-hidden="true"></i></a><input dir="auto" style="position: relative; vertical-align: top;" spellcheck="false" autocomplete="off" class="searchbox__input aa-input" id="doc-search" name="search" placeholder="Search in the doc" required="required" type="search"></div><h1>assets</h1><div class="details"><span class="author" id="author"></span><br><span id="revnumber">version ,</span> <span id="revdate">2016/03/17 20:48</span></div><div id="toc" class="toc2"><div id="toctitle">Table of Contents</div><ul class="sectlevel1"><li><a href="#the-card">The Card:</a><ul class="sectlevel2"><li><a href="#the-card-model">The Card Model:</a></li><li><a href="#the-card-material">The Card material:</a></li><li><a href="#cardmat-j3md">CardMat.j3md</a></li><li><a href="#simplecard-frag">SimpleCard.frag</a></li></ul></li><li><a href="#the-table">The Table:</a><ul class="sectlevel2"><li><a href="#table-texture">Table Texture:</a></li></ul></li></ul></div></div><div id="content"><div class="sect2"><h3 id="the-card">The Card:</h3><div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>In my example,for the Front textures of the cards, I use the orignal Yugioh Card game, but you can make your own if you want!! (prevent copy right issues)</p></div></td></tr></table></div>
<div class="sect2"><h3 id="the-card-model">The Card Model:</h3><div class="paragraph"><p>The card model made of a Box with side faces deleted. The two remain faces has some change in UV, instead of the have exactly the same UV, they share the 50-50% vertical areas. Why? Cause in the shader we will modify the way to calculate UV and use two different diffuse for front face and back face. :p This is very cool thing to learn!</p></div>
<div class="paragraph"><p><span class="image"><img src="http://farm9.staticflickr.com/8104/8617106224_e0c494dbf6_z.jpg" alt="8617106224_e0c494dbf6_z.jpg" width="" height=""></span></p></div></div>
<div class="sect2"><h3 id="the-card-material">The Card material:</h3><div class="paragraph"><p>After import from Blender, the importer made a default Lighting material for the model. So basicly we want to change that to our approriate material.</p></div>
<div class="paragraph"><p>We make it by creating 3 new files: <strong>CardMat.j3md</strong> , <strong>CardMat.j3m</strong>, <strong>SimpleCard.frag</strong> ; and go to the Libraries section, where the TestData package is, copy the 4th file: <strong>ColoredTexture.vert</strong>.</p></div>
<div class="literalblock"><div class="content"><pre>  That’s basic how the Material system in JME works. 4 things combine:
  - **CardMat.j3md** is the Material definition (MatDef).
  - **CardMat.j3m** an instance with parameter s like textures, colors..etc
  - **SimpleCard.frag** : the fragment shader which choose by the MatDef
  - **ColoredTexture.vert**: The vertex shader which choose by the MatDef</pre></div></div>
<div class="paragraph"><p>Below show the detail content of the Material file in JMP and explain why for newbie in GLSL:</p></div>
<div style="text-align: center;" class="imageblock"><div class="content"><img src="http://farm9.staticflickr.com/8521/8616051519_7c8c32ee1a_c.jpg" alt="8616051519_7c8c32ee1a_c.jpg" width="" height=""></div></div></div>
<div class="sect2"><h3 id="cardmat-j3md">CardMat.j3md</h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="glsl">MaterialDef Card {

    MaterialParameters {
        Texture2D ColorMap
        Texture2D ColorMap2
        Color Color (Color)
        Boolean MixGlow
    }

    Technique {
        VertexShader GLSL100:   MatDefs/ColoredTextured.vert
        FragmentShader GLSL100: MatDefs/SimpleCard.frag

        WorldParameters {
            WorldViewProjectionMatrix
            Time
        }

        Defines {
            GLOW : MixGlow
        }
    }

}</code></pre></div></div></div>
<div class="sect2"><h3 id="simplecard-frag">SimpleCard.frag</h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="glsl">varying vec2 texCoord;

uniform sampler2D m_ColorMap;
uniform sampler2D m_ColorMap2;
uniform vec4 m_Color;
uniform bool m_MixGlow;

uniform float g_Time;

void main() {
    vec2 uv = texCoord;
    vec4 texColor;
    vec4 color;

    if (uv.x &gt; 0.5){
        uv.x = (uv.x – 0.5) *2;
        texColor = texture2D(m_ColorMap, uv);
    } else {
        uv.x = uv.x *2;
        texColor = texture2D(m_ColorMap2, uv);
    }
    vec2 uvc = uv;
    uvc.x = uv.x – 0.5;
    uvc.y = uv.y – 0.5;
    vec2 borderSize = vec2(0.05,0.05);
    #ifdef GLOW
        if (m_MixGlow == true){
                float glowV=sqrt((uvc.x)*(uvc.x)+(uvc.y)*(uvc.y));
                vec4 glowC = mix(vec4(0.9,0.8,0.1,1),vec4(0.4,0.7,1,1),sin(g_Time));
                color = mix(texColor,glowC,glowV);

                if ((uv.x &lt;borderSize.x || 1-uv.x&lt;borderSize.x)||(uv.y &lt;borderSize.y || 1-uv.y&lt;borderSize.y)){
                    color+= vec4(0.8,0.8,0.1,0.5);
                }
        } else {
            color = texColor;
        }
    #else
        color = texColor;
    #endif

    gl_FragColor = color;
}</code></pre></div></div>
<div class="paragraph"><p>This GLSL code can be obviously explain like this:</p></div>
<div class="ulist"><ul><li><p>uv is the coordinate for the diffuse map. In our model, we modified the UV, so if the “x”-horizontal value of vertex coordinates is bigger than 0.5, than mean it in the back( that’s the trick I said), use the ColorMap2 texture.</p></li><li><p>uv2 is the coordinate to put the highlight for the border of the card, the value of highlight controller by the value of “sin(time)” … that means it goes up and down like a wave.</p></li></ul></div>
<div class="paragraph"><p>That’s it! No big deal!</p></div>
<div class="sect3"><h4 id="note">Note:</h4><div class="paragraph"><p>texCoord is a Varying – mean it transfered from Vertex shader
Time is global Attribute – mean it sent to openGL from JME renderer
ColorMap – ColorMap2 are Uniform (s) – mean they are parameters from the user set to the Shader</p></div></div></div></div>
<div class="sect2"><h3 id="the-table">The Table:</h3><div class="paragraph"><p>The table of this card game is a design from the orginal game. It divide into two main area:
The ground and sides
The ground divided by two for each opponents
The side divided to some areas, including: Deck block, Magic block, Fusion block…ect</p></div>
<div class="sect2"><h3 id="table-texture">Table Texture:</h3><div class="paragraph"><p>The table represent by a single quad with this texture. I did it in PTS but you can also do the same thing in Gimp or even paint.net (which one you prefered). The source PTS file is in the Project assets if you want to look into.</p></div>
<div style="text-align: center;" class="imageblock"><div class="content"><img src="http://farm9.staticflickr.com/8251/8617035018_bf7db17d09_z.jpg" alt="8617035018_bf7db17d09_z.jpg" width="" height=""></div></div></div></div></div><div id="footer"><div id="footer-text">Version <br>Last updated 2017-11-14 05:28:25 +00:00</div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});</script></body></html>