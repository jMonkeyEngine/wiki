<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.4"><meta name="keywords" content="beginner, rootNode, node, intro, documentation, color, spatial, geometry, scenegraph, mesh"><title>jMonkeyEngine 3 Tutorial (2) - Hello Node</title><link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"></head><body class="article toc2 toc-left"><div id="header"><div id="toolbar"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/src/docs/asciidoc/jme3/beginner/hello_node_pt.adoc"><i class="fa fa-pencil-square" aria-hidden="true"></i></a><a href="https://github.com/jMonkeyEngine/wiki/new/master/src/docs/asciidoc/jme3/beginner/"><i class="fa fa-plus-square" aria-hidden="true"></i></a><input dir="auto" style="position: relative; vertical-align: top;" spellcheck="false" autocomplete="off" class="searchbox__input aa-input" id="doc-search" name="search" placeholder="Search in the doc" required="required" type="search"></div><h1>jMonkeyEngine 3 Tutorial (2) - Hello Node</h1><div class="details"><span class="author" id="author"></span><br><span id="revnumber">version ,</span> <span id="revdate">2016/03/17 20:48</span></div><div id="toc" class="toc2"><div id="toctitle">Table of Contents</div><ul class="sectlevel1"><li><a href="#amostra-de-código">Amostra de código</a></li><li><a href="#entendendo-a-terminologia">Entendendo a Terminologia</a></li><li><a href="#entendendo-o-código">Entendendo o Código</a><ul class="sectlevel2"><li><a href="#o-que-é-um-nó-pivô-pivot-node">O que é um nó pivô (Pivot Node)?</a></li></ul></li><li><a href="#como-eu-populo-o-grafo-de-cena">Como eu Populo o Grafo de Cena?</a></li><li><a href="#como-eu-transformo-espaciais-spatials">Como eu transformo espaciais (Spatials)?</a></li><li><a href="#como-eu-resolvo-problemas-com-espaciais-spatials">Como eu Resolvo Problemas com espaciais (Spatials)?</a></li><li><a href="#como-eu-adiciono-um-dado-customizado-para-espaciais-spatials">Como eu Adiciono um Dado Customizado para espaciais (Spatials)?</a></li><li><a href="#conclusão">Conclusão</a></li></ul></div></div><div id="content"><div id="preamble"><div class="sectionbody"><div class="paragraph"><p>Anterior: <a href="../../jme3/beginner/hello_simpleapplication_pt.html">Hello SimpleApplication pt</a>,
Próximo: <a href="../../jme3/beginner/hello_asset_pt.html">Hello Assets pt</a>.</p></div>
<div class="paragraph"><p>Neste tutorial nós daremos uma olhada na criação de uma cena 3D.</p></div>
<div class="ulist"><ul><li><p>Este tutorial assume que você save o que o <a href="../../jme3/the_scene_graph.html">grafo de cena</a> é. is.</p></li><li><p>Para uma introdução visual, cheque o <a href="../../jme3/scenegraph_for_dummies.html">Grafo de Cena para Novatos</a>.</p></li></ul></div>
<div class="paragraph"><p>Quando criando um jogo 3D</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Você cria alguns objetos como jogadores, edifícios, etc.</p></li><li><p>Você adiciona os objetos para a cena.</p></li><li><p>Você move, redimensiona, rotaciona, colore, e anima eles.</p></li></ol></div>
<div class="paragraph"><p>Você aprendera que o grafo de cena representa o mundo 3D, e porque o nó raiz (rootNode) é importante. Você aprenderá como criar objetos simples, como deixá-los transportar dados customizados (como, por exemplo, pontos de saúde), e como “transformá-los por mover, escalonar e rotacionar. Você compreenderá a diferença entre os dois tipos de “Espaciais no grafo de cena: nós (Nodes) e geometrias (Geometries).</p></div></div></div>
<div class="sect1"><h2 id="amostra-de-código">Amostra de código</h2><div class="sectionbody"><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">jme3test.helloworld</span>;

<span class="keyword">import</span> <span class="include">com.jme3.app.SimpleApplication</span>;
<span class="keyword">import</span> <span class="include">com.jme3.material.Material</span>;
<span class="keyword">import</span> <span class="include">com.jme3.math.Vector3f</span>;
<span class="keyword">import</span> <span class="include">com.jme3.scene.Geometry</span>;
<span class="keyword">import</span> <span class="include">com.jme3.scene.shape.Box</span>;
<span class="keyword">import</span> <span class="include">com.jme3.math.ColorRGBA</span>;
<span class="keyword">import</span> <span class="include">com.jme3.scene.Node</span>;

<span class="comment">/** Sample 2 - Como usar os nós como agrupamentos para manipular os objetos da cena.
 * Você pode rotacionar, mover, e redimensionar manipulando os nós pai.
 * O nó raiz (rootNode) é especial: Somente o que está ligado ao nó raiz aparece na cena. */</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">HelloNode</span> <span class="directive">extends</span> SimpleApplication {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args){
        HelloNode app = <span class="keyword">new</span> HelloNode();
        app.start();
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> simpleInitApp() {

        <span class="comment">/** cria uma caixa azul nas coordenadas (1,-1,1) */</span>
        <span class="predefined-type">Box</span> box1 = <span class="keyword">new</span> <span class="predefined-type">Box</span>( Vector3f.ZERO, <span class="integer">1</span>,<span class="integer">1</span>,<span class="integer">1</span>);
        Geometry blue = <span class="keyword">new</span> Geometry(<span class="string"><span class="delimiter">&quot;</span><span class="content">Box</span><span class="delimiter">&quot;</span></span>, box1);
        Material mat1 = <span class="keyword">new</span> Material(assetManager,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">Common/MatDefs/Misc/Unshaded.j3md</span><span class="delimiter">&quot;</span></span>);
        mat1.setColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Color</span><span class="delimiter">&quot;</span></span>, ColorRGBA.Blue);
        blue.setMaterial(mat1);
        blue.move(<span class="integer">1</span>,-<span class="integer">1</span>,<span class="integer">1</span>);

        <span class="comment">/** cria uma caixa vermelha logo acima da caixa azul em (1,3,1) */</span>
        <span class="predefined-type">Box</span> box2 = <span class="keyword">new</span> <span class="predefined-type">Box</span>( Vector3f.ZERO, <span class="integer">1</span>,<span class="integer">1</span>,<span class="integer">1</span>);
        Geometry red = <span class="keyword">new</span> Geometry(<span class="string"><span class="delimiter">&quot;</span><span class="content">Box</span><span class="delimiter">&quot;</span></span>, box2);
        Material mat2 = <span class="keyword">new</span> Material(assetManager,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">Common/MatDefs/Misc/Unshaded.j3md</span><span class="delimiter">&quot;</span></span>);
        mat2.setColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Color</span><span class="delimiter">&quot;</span></span>, ColorRGBA.Red);
        red.setMaterial(mat2);
        red.move(<span class="integer">1</span>,<span class="integer">3</span>,<span class="integer">1</span>);

        <span class="comment">/** Cria um nó pivô em (0,0,0) e liga ele ao nó raiz(rootNode) */</span>
        Node pivot = <span class="keyword">new</span> Node(<span class="string"><span class="delimiter">&quot;</span><span class="content">pivot</span><span class="delimiter">&quot;</span></span>);
        rootNode.attachChild(pivot); <span class="comment">// põe este nó na cena</span>

        <span class="comment">/** Liga os dois cubos ao nó *pivot*. */</span>
        pivot.attachChild(blue);
        pivot.attachChild(red);
        <span class="comment">/** Rotaciona o nó pivô: Veja que ambas as caixas rotacionaram! */</span>
        pivot.rotate(<span class="float">.4f</span>,<span class="float">.4f</span>,<span class="float">0f</span>);
    }
}</code></pre></div></div>
<div class="paragraph"><p>Construa e execute a amostra de código. Você deveria ver duas caixas coloridas inclinadas no mesmo ângulo.</p></div></div></div>
<div class="sect1"><h2 id="entendendo-a-terminologia">Entendendo a Terminologia</h2><div class="sectionbody"><div class="paragraph"><p>Neste tutorial você aprenderá alguns novos termos:</p></div>
<table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">O que você quer fazer</th><th class="tableblock halign-left valign-top">Como você diz isso na terminologia JME3</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Colocar a disposição da cena 3D</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Popular o grafo de cena</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Criar objetos da cena</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Criar espaciais (Spatials) (e.g. criar geometrias (Geometries) )</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Fazer um objeto aparecer na cena</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Anexar um espacial (Spatial) para o nó raiz rootNode</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Fazer um objeto desaparecer da cena</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Retirar um espacial (Spatial) do nó raiz rootNode</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Posicionar/mover, virar, ou redimensionar um objeto</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Transladar, ou rotacionar, ou escalar um objeto = transformar um objeto</p></div></div></td></tr></tbody></table>
<div class="paragraph"><p>Toda aplicação JME3 tem um nó raiz (rootNode): Seu jogo automaticamente herda o objeto <code>rootNode</code> de SimpleApplication. Tudo anexado ao nó raiz (rootNode) é parte do grafo de cena. Os elementos do grafo de cena são os espaciais (Spatials).</p></div>
<div class="ulist"><ul><li><p>Um Spatial contém a localização, rotação e escala de um objeto.</p></li><li><p>Um Spatial pode ser carregado, transformado, e salvo.</p></li><li><p>Há dois tipos de Spatials: nós (Nodes) e geometrias (Geometries).</p></li></ul></div>
<table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 100%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Geometria (Geometry)</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Nó (Node)</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Visibilidade:</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Uma geometria (Geometry) é um objeto de cena visível</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Um nó (Node) é uma “alavanca invisível para objetos da cena.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Propósito:</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Uma geometria (Geometry) armazena a aparência de um objeto.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Um nó (Node) agrupa geometrias (Geometries) e outros nós (Nodes) juntos.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Exemplos:</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Uma caixa, uma esfera, um jogador, um edifício, um pedaço de terreno, um veículo, mísseis, NPCs, etc…</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>O <code>nó raiz (rootNode)</code>, um nó de chão agrupando vários terrenos, um nó veículo-com-passageiros customizado, um nó jogador-com-arma, um nó de aúdio, etc…</p></div></div></td></tr></tbody></table></div></div>
<div class="sect2"><h3 id="entendendo-o-código">Entendendo o Código</h3><div class="paragraph"><p>O que acontece no trecho de código? Você usa o método <code>simpleInitApp()</code> que foi introduzido no primeiro tutorial para inicializar a cena.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Você cria a primeira geometria caixa.</p><div class="ulist"><ul><li><p>Crie uma forma caixa (Box) com extensões de (1,1,1), isto faz a caixa 2x2x2 unidades do mundo grande.</p></li><li><p>Posicione a caixa em (1,-1,1) usando o método move() method. (Não mude o Vector3f.ZERO a menos que você queira mudar o centro de rotação)</p></li><li><p>Envolva a forma caixa (Box) em uma geometria (Geometry).</p></li><li><p>Crie um material azul</p></li><li><p>Aplique o material azul para a geometria da caixa (Box Geometry).</p></li></ul></div></li></ol></div>
<div class="listingblock"><div class="content"><pre>    Box box1 = new Box( Vector3f.ZERO, 1,1,1);
    Geometry blue = new Geometry("Box", box1);
    Material mat1 = new Material(assetManager,
      "Common/MatDefs/Misc/Unshaded.j3md");
    mat1.setColor("Color", ColorRGBA.Blue);
    blue.setMaterial(mat1);
    blue.move(1,-1,1);</pre></div></div>
<div class="olist arabic"><ol class="arabic"><li><p>Você cria uma segunda geometria (Geometry) de caixa.</p><div class="ulist"><ul><li><p>Crie uma segunda forma caixa (Box) com o mesmo tamanho.</p></li><li><p>Posicione a segunda caixa em (1,3,1). Isto é imediatamente acima da primeira caixa, com uma lacuna de 2 unidades do mundo entre elas.</p></li><li><p>Envolva a forma caixa (Box) em uma geometria (Geometry).</p></li><li><p>Crie um material vermelho</p></li><li><p>Aplique o material vermelho para a geometria caixa (Box Geometry).</p></li></ul></div></li></ol></div>
<div class="listingblock"><div class="content"><pre>    Box box2 = new Box( Vector3f.ZERO, 1,1,1);
    Geometry red = new Geometry("Box", box2);
    Material mat2 = new Material(assetManager,
      "Common/MatDefs/Misc/Unshaded.j3md");
    mat2.setColor("Color", ColorRGBA.Red);
    red.setMaterial(mat2);
    red.move(1,3,1);</pre></div></div>
<div class="olist arabic"><ol class="arabic"><li><p>Você cria um nó (Node) pivô.</p><div class="ulist"><ul><li><p>Nomeie o nó “pivot.</p></li><li><p>Por padrão o nó (Node) é posicionado em (0,0,0).</p></li><li><p>Anexe o nó (Node) ao nó raiz (rootNode).</p></li><li><p>O nó (Node) não tem aparência visível na cena.</p></li></ul></div></li></ol></div>
<div class="listingblock"><div class="content"><pre>    Node pivot = new Node("pivot");
    rootNode.attachChild(pivot);</pre></div></div>
<div class="paragraph"><p>Se você executar a aplicação somente com o código dado até aqui, a cena parece vazia. Isto é porque o nó (Node) está invisível, e você não tem ainda anexado quaisquer geometrias (Geometries) visíveis para o nó raiz (rootNode)..</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Anexe as duas caixas para o nó pivô</p></li></ol></div>
<div class="listingblock"><div class="content"><pre>        pivot.attachChild(blue);
        pivot.attachChild(red);</pre></div></div>
<div class="paragraph"><p>Se você executar o aplicativo com somente o código dado até aqui, você vê dois cubos: Um vermelho imediatamente acima de um azul.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Rotacione o nó pivô.</p></li></ol></div>
<div class="listingblock"><div class="content"><pre>        pivot.rotate( 0.4f , 0.4f , 0.0f );</pre></div></div>
<div class="literalblock"><div class="content"><pre>Se você executar o aplicativo agora, você verá duas caixas uma no topo da outra - ambas inclinadas no mesmo ângulo.</pre></div></div>
<div class="sect2"><h3 id="o-que-é-um-nó-pivô-pivot-node">O que é um nó pivô (Pivot Node)?</h3><div class="paragraph"><p>Você pode transformar (e.g. rotacionar) geometrias (Geometries) ao redor do próprio centro delas, ou ao redor de um ponto central definido pelo usuário. Um ponto central definido pelo usuário para um ou mais geometrias (Geometries) é chamado pivô.</p></div>
<div class="ulist"><ul><li><p>Neste exemplo, você agrupou duas geometrias (Geometries) por anexá-las para um nó pivô (Node). Você vê o nó (Node) pivô como um instrumento para rotacionar as duas geometrias (Geometries) ao mesmo tempo ao redor de um centro em comum. Rotacionar o nó (Node) pivô rotaciona todas as geometrias (Geometries) anexadas, de uma única vez. O nó pivô é o centro da rotação. Antes de anexar as outras geometrias (Geometries), tenha certeza que o nó pivô está em (0,0,0). Transformar um nó (Node) pai para transformar todas as crianças espaciais (Spatials) anexadas é uma tarefa comum. Você usará este método muito em seus jogos quando você mover espaciais (Spatials).</p></li></ul></div>
<div class="paragraph"><p>Exemplos: Um veículo e seu motorista movem juntos; um planeta com sua lua orbitam o sol.</p></div>
<div class="ulist"><ul><li><p>Contraste este caso com a outra opção: Se você não criar um nó pivô extra e transformar uma geometria (Geometry), então toda transformação é feita relativa a origem da geometria (Geometry) (tipicamente o centro dela). +<strong>Exemplos:</strong>  Se você rotacionar cada cubo diretamente (usando <code>red.rotate(0.1f , 0.2f , 0.3f);</code> e <code>blue.rotate(0.5f , 0.0f , 0.25f);</code>), então cada cubo é rotacionado individualmente ao redor do seu centro. Isto é similar a um planeta rotacionando ao redor de seu próprio centro.</p></li></ul></div></div></div>
<div class="sect1"><h2 id="como-eu-populo-o-grafo-de-cena">Como eu Populo o Grafo de Cena?</h2><div class="sectionbody"><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Tarefa…?</th><th class="tableblock halign-left valign-top">Solução!</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Crie um espacial (Spatial)</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Crie uma forma malha (Mesh), envolva ela em uma geometria (Geometry), e dê a ela um Material. Por exemplo:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Box</span> mesh = <span class="keyword">new</span> <span class="predefined-type">Box</span>(Vector3f.ZERO, <span class="integer">1</span>, <span class="integer">1</span>, <span class="integer">1</span>); <span class="comment">// a cuboid default mesh</span>
Geometry thing = <span class="keyword">new</span> Geometry(<span class="string"><span class="delimiter">&quot;</span><span class="content">thing</span><span class="delimiter">&quot;</span></span>, mesh);
Material mat = <span class="keyword">new</span> Material(assetManager,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">Common/MatDefs/Misc/ShowNormals.j3md</span><span class="delimiter">&quot;</span></span>);
thing.setMaterial(mat);</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Faça um objeto aparecer na cena</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Anexe o espacial (Spatial) para o <code>nó raiz (rootNode)</code>, ou para qualquer no que esteja anexado para o nó raiz (rootNode).</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">rootNode.attachChild(thing);</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Remova objetos da cena</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Retire o nó espacial (Spatial) do <code>nó raiz (rootNode)</code>, e de qualquer nó que esteja vinculado ao nó raiz (rootNode).</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">rootNode.detachChild(thing);</code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">rootNode.detachAllChildren();</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Ache um nó espacial na cena pelo nome do objeto, ou ID, ou por sua posição na hierarquia pai-criança.</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Olhe na criança ou pai do nó:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">Spatial thing = rootNode.getChild(<span class="string"><span class="delimiter">&quot;</span><span class="content">thing</span><span class="delimiter">&quot;</span></span>);</code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">Spatial twentyThird = rootNode.getChild(<span class="integer">22</span>);</code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">Spatial parent = myNode.getParent();</code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Especifique o que deveria ser carregado no início</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Tudo que você inicializa e anexa ao <code>nó raiz (rootNode)</code> no método <code>simpleInitApp()</code> é parte da cena no início do jogo.</p></div></div></td></tr></tbody></table></div></div>
<div class="sect1"><h2 id="como-eu-transformo-espaciais-spatials">Como eu transformo espaciais (Spatials)?</h2><div class="sectionbody"><div class="paragraph"><p>Há três tipos de transformação 3D: Translação, Escalonamento, e Rotação.</p></div>
<table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Translação move espaciais (Spatials )</th><th class="tableblock halign-left valign-top">eixo X-</th><th class="tableblock halign-left valign-top">eixo Y</th><th class="tableblock halign-left valign-top">eixo Z</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div></div></td><td class="tableblock halign-left valign-top"><div></div></td><td class="tableblock halign-left valign-top"><div></div></td><td class="tableblock halign-left valign-top"><div></div></td></tr></tbody></table>
<div class="paragraph"><p>Para mover um espacial (Spatial) para coordenadas específicas, tais como (0,40.2f,-2), use:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">thing.setLocalTranslation( <span class="keyword">new</span> Vector3f( <span class="float">0.0f</span>, <span class="float">40.2f</span>, -<span class="float">2.0f</span> ) );</code></pre></div></div>
<div class="literalblock"><div class="content"><pre>Para mover um espacial (Spatial) por uma certa quantia, e.g. mais acima (y=40.2f) e mais atrás (z=-2.0f):</pre></div></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">thing.move( <span class="float">0.0f</span>, <span class="float">40.2f</span>, -<span class="float">2.0f</span> );</code></pre></div></div>
<div class="literalblock"><div class="content"><pre>|+right -left|+up -down|+forward -backward|</pre></div></div>
<table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Escalonamento redimensiona espaciais (Spatials)</th><th class="tableblock halign-left valign-top">eixo X-</th><th class="tableblock halign-left valign-top">eixo Y</th><th class="tableblock halign-left valign-top">eixo Z</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Especifique o fator de escalonamento em cada dimensão: tamanho, altura, comprimento. + um valor entre 0.0f e 1.0f diminue o espacial (Spatial); maior que 1.0f estica ele; 1.0f mantém ele o mesmo. + Usando o mesmo valor para cada dimensão escalona proporcionalmente, valor diferentes esticam ele. + Para escalonar um espacial (Spatial) 10 vezes mais longo, um décimo da altura, e manter o mesmo comprimento:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">thing.scale( <span class="float">10.0f</span>, <span class="float">0.1f</span>, <span class="float">1.0f</span> );</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>length</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>height</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>width</p></div></div></td></tr></tbody></table>
<table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Rotação gira espaciais (Spatials)</th><th class="tableblock halign-left valign-top">eixo X-</th><th class="tableblock halign-left valign-top">eixo Y</th><th class="tableblock halign-left valign-top">eixo Z</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Rotação 3-D é um pouco complicado (<a href="../../jme3/rotate.html">aprenda os detalhes aqui</a>)). em breve: Você pode rotacionar ao redor de três eixos: Pitch (X), yaw (Y), e roll (Z). Você pode especificar ângulos em graus por multiplicar o valor de graus com <code>FastMath.DEG_TO_RAD</code>. + Para rolar um objeto 180° ao redor do z axis: :</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">thing.rotate( <span class="float">0f</span> , <span class="float">0f</span> , <span class="integer">180</span>*FastMath.DEG_TO_RAD );</code></pre></div></div>
<div class="literalblock"><div class="content"><pre>Tip: Dica: Se sua idéia de jogo pede uma quantidade séria de rotações, é merecedor dar uma olhada em &lt;&lt;jme3/quaternion#,quaternion&gt;&gt;s, uma estrutura de dado que pode combinar e armazenar rotações eficientemente.</pre></div></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">thing.setLocalRotation(
  <span class="keyword">new</span> Quaternion().fromAngleAxis(<span class="integer">180</span>*FastMath.DEG_TO_RAD, <span class="keyword">new</span> Vector3f(<span class="integer">1</span>,<span class="integer">0</span>,<span class="integer">0</span>)));</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>pitch = fazer um sinal de sim com sua cabeça</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>yaw = agitar sua cabeça</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>roll = inclinar sua cabeça</p></div></div></td></tr></tbody></table></div></div>
<div class="sect1"><h2 id="como-eu-resolvo-problemas-com-espaciais-spatials">Como eu Resolvo Problemas com espaciais (Spatials)?</h2><div class="sectionbody"><div class="paragraph"><p>Se você obtém resultados inesperados, cheque se você fez os seguintes enganos frequentes:</p></div>
<table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Problema?</th><th class="tableblock halign-left valign-top">Solução!</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Geometria (Geometry) criada não aparece na cena.</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Você anexou ela a (um nó que está vinculado a) o nó raiz (rootNode)? + Ela tem um Material? + Qual é sua translação (posição)? Ela está atrás da câmera ou coberta por uma outra geometria (Geometry)? + Ela é tão minúscula ou tão gigante para ver? + Ela está tão distante da câmera? (Tente <a href="http://jmonkeyengine.org/javadoc/com/jme3/renderer/Camera.html#setFrustumFar%28float%29">cam.setFrustumFar</a>(111111f); para ver mais distante)</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Um espacial (Spatial) rotaciona em maneiras inesperadas.</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Você usou os valores em radianos, e não em graus? (Se você usou graus, multiplique eles com FastMath.DEG_TO_RAD para convertê-los para radianos) + Você criou o espacial (Spatial) na origem (Vector.ZERO) antes de movê-lo? + Você rotacionou ao redor do nó pivô ou ao redor de algo mais? + Você rotacionou ao redor do eixo certo?</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Uma geometria (Geometry) tem cor (Color) ou Material inepserado.</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Você reusou um Material de uma outra geometria (Geometry) e tem inadvertidamente mudado suas propriedades? (Se sim, considere cloná-lo: mat2 = mat.clone(); )</p></div></div></td></tr></tbody></table></div></div>
<div class="sect1"><h2 id="como-eu-adiciono-um-dado-customizado-para-espaciais-spatials">Como eu Adiciono um Dado Customizado para espaciais (Spatials)?</h2><div class="sectionbody"><div class="paragraph"><p>Muitos espaciais (Spatials) representam personagens ou outras entidades que o jogador pode interagir. O código acima que rotaciona as duas caixas ao redor de um centro em comum (pivô) poderia ser usado para uma espaçonave estacionada em uma estação espacial orbital, por exemplo.</p></div>
<div class="paragraph"><p>Dependendo do seu jogo, entidades de jogo não somente mudam a posição delas, rotação ou escala (as transformações que você aprendeu). Entidades de jogo também têm propriedades personalizadas, como saúde, inventário carregado, equipamento usado para um personagem, ou força do casco e combustível restante para uma aeronave. Em Java, você representa dados de entidade como variáveis de classe, e.g. floats, Strings, ou Arrays.</p></div>
<div class="paragraph"><p>Você pode adicionar dados personalizados diretamente para qualquer nó (Node) ou geometria (Geometry). * Você não precisa estender a classe nó (Node) para incluir variáveis! *</p></div>
<div class="paragraph"><p>Por exemplo, para adicionar um número de id customizado para um nó, você usaria:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">pivot.setUserData( <span class="string"><span class="delimiter">&quot;</span><span class="content">pivot id</span><span class="delimiter">&quot;</span></span>, <span class="integer">42</span> );</code></pre></div></div>
<div class="paragraph"><p>Para ler o id do nó (Node) em outro lugar, você usaria:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> id = pivot.getUserData( <span class="string"><span class="delimiter">&quot;</span><span class="content">pivot id</span><span class="delimiter">&quot;</span></span> );</code></pre></div></div>
<div class="paragraph"><p>Por usar diferentes chaves de Strings (aqui a chave é o <code>id do pivô</code>), você pode recuperar e configurar vários valores para quaisquer dados que o espacial (Spatial) precisa carregar. Quando você iniciar a escrever seu jogo, você talvez adicione um valor de combustível para um nó carro, valor de velocidade para um nó avião, ou número de moedas douradas para um nó jogador, e muito mais. Entretanto, deve-se notar que somente objetos customizados que implementam Savable podem ser passados.</p></div></div></div>
<div class="sect1"><h2 id="conclusão">Conclusão</h2><div class="sectionbody"><div class="paragraph"><p>Você aprenderu que sua cena 3D é um grafo de cena composto de espaciais (Spatials): Geometrias (Geometries) visíveis e nós (Nodes) invisíveis. Você pode transformar espaciais (Spatials), ou anexá-los a nós e transformar os nós. Você sabe a maneira mais fácil de como adicionar propriedades de entidade customizadas (tais como a saúde do jogador ou a velocidade do veículo) para espaciais (Spatials).</p></div>
<div class="paragraph"><p>Desde que formas padrões como esferas e caixas ficam velhas rápido, continue com o próximo capítulo onde você aprenderá a <a href="../../jme3/beginner/hello_asset.html">carregar ativos, como por exemplo, modelos 3-D</a>.</p></div></div></div></div><div id="footer"><div id="footer-text">Version <br>Last updated 2017-11-14 05:28:25 +00:00</div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});</script></body></html>