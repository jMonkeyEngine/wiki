<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.4"><title>Models and Scenes</title><link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"></head><body class="article toc2 toc-left"><div id="header"><div id="toolbar"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/src/docs/asciidoc/jme3/advanced/3d_models.adoc"><i class="fa fa-pencil-square" aria-hidden="true"></i></a><a href="https://github.com/jMonkeyEngine/wiki/new/master/src/docs/asciidoc/jme3/advanced/"><i class="fa fa-plus-square" aria-hidden="true"></i></a><input dir="auto" style="position: relative; vertical-align: top;" spellcheck="false" autocomplete="off" class="searchbox__input aa-input" id="doc-search" name="search" placeholder="Search in the doc" required="required" type="search"></div><h1>Models and Scenes</h1><div class="details"><span class="author" id="author"></span><br><span id="revnumber">version ,</span> <span id="revdate">2016/03/17 20:48</span></div><div id="toc" class="toc2"><div id="toctitle">Table of Contents</div><ul class="sectlevel1"><li><a href="#using-models-and-scenes-with-jme3">Using Models and Scenes with jME3</a></li><li><a href="#creating-models-and-scenes">Creating Models and Scenes</a></li><li><a href="#blender-buffer-clearing">Blender Buffer Clearing</a></li></ul></div></div><div id="content"><div id="preamble"><div class="sectionbody"><div class="paragraph"><p>Like <a href="../../jme3/advanced/shape.html">Shape</a>s, 3D models are also made up of <a href="../../jme3/advanced/mesh.html">Mesh</a>es, but models are more complex than Shapes. While Shapes are built into jME3, you typically create models in external 3D Mesh Editors.</p></div></div></div>
<div class="sect1"><h2 id="using-models-and-scenes-with-jme3">Using Models and Scenes with jME3</h2><div class="sectionbody"><div class="paragraph"><p>To use 3D models in a jME3 application:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Export the 3D model in Ogre XML or Wavefront OBJ format. Export Scenes as Ogre DotScene format.</p></li><li><p>Save the files into a sub-directory of your jME3 <code>Assets</code> directory.</p></li><li><p>In your code, you use the <a href="../../jme3/advanced/asset_manager.html">Asset Manager</a> to load models as <a href="../../jme3/advanced/spatial.html">Spatial</a>s into a jME application.</p><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">Spatial model = assetManager.loadModel(
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Models/MonkeyHead/MonkeyHead.mesh.xml</span><span class="delimiter">&quot;</span></span> );</code></pre></div></div></li></ol></div>
<div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content"><div class="paragraph"><p>(For the release build:) Use the jMonkeyEngine SDK to convert models to .j3o format. You don&#8217;t need this step as long you still develop and test the application within the jMonkeyEngine SDK.</p></div></td></tr></table></div></div></div>
<div class="sect1"><h2 id="creating-models-and-scenes">Creating Models and Scenes</h2><div class="sectionbody"><div class="paragraph"><p>To create 3D models and scenes, you need a 3D Mesh Editor such as <a href="http://www.blender.org/">Blender</a>, with an <a href="../../jme3/advanced/ogrecompatibility.html">OgreXML Exporter</a> plugin.</p></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>Learn how to create <a href="http://en.wikibooks.org/wiki/Blender_3D:_Noob_to_Pro/UV_Map_Basics">UV textures</a> for more complex models, it looks more professional.</p></div></td></tr></table></div>
<div class="paragraph"><p>3D model editors are third-party products, so please consult their documentation for instructions how to use them. Here is an example workflow for Blender users:</p></div>
<div class="ulist"><ul><li><p><a href="../../jme3/external/blender.html">Creating jME3 compatible 3D models in Blender</a></p></li></ul></div>
<div class="paragraph"><p>To export your models as Ogre XML meshes with materials:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>jMonkeyEngine requires a material file to be named the same name as the model so prior to opening the export dialog make it so. The model will export files named <code>ModelName.mesh.xml</code> with a <code>ModelName.material</code>, plus (optionally) <code>ModelName.skeleton.xml</code>, and some JPG files.</p></li><li><p>Open the menu <code><span class="menuseq"><span class="menu">File</span>&#160;&#9656; <span class="submenu">Export</span>&#160;&#9656; <span class="menuitem">Ogre3D</span></span></code> to open the exporter dialog.</p></li><li><p>In the <code>File Path</code> field: Select a target sub-directory of your <code>Project Assets/Textures/</code> directory. E.g. <code>Project Assets/Textures/ModelName/</code>. See <a href="../../jme3/intermediate/best_practices.html#multi-media-asset-pipeline">Best Practices</a>.</p></li><li><p>In the panel at the bottom left of the export window toggle the following export settings:</p><div class="ulist checklist"><ul class="checklist"><li><p>Swap Axis: xz-y</p></li><li><p><i class="fa fa-check-square-o"></i> Separate materials</p></li><li><p><i class="fa fa-square-o"></i> Only Deformable Bones <span class="footnote">[<a class="footnote" id="_footnoteref_1" href="#_footnote_1" title="View footnote.">1</a>]</span></p></li><li><p><i class="fa fa-square-o"></i> Export Scene <span class="footnote">[<a class="footnote" id="_footnoteref_2" href="#_footnote_2" title="View footnote.">2</a>]</span></p></li><li><p><i class="fa fa-square-o"></i> Export Selected Only <span class="footnote">[<a class="footnote" id="_footnoteref_3" href="#_footnote_3" title="View footnote.">3</a>]</span></p></li><li><p><i class="fa fa-check-square-o"></i> Export Meshes</p></li><li><p><i class="fa fa-square-o"></i> Export Meshes Overwrite <span class="footnote">[<a class="footnote" id="_footnoteref_4" href="#_footnote_4" title="View footnote.">4</a>]</span></p></li><li><p><i class="fa fa-square-o"></i> Armature Animation <span class="footnote">[<a class="footnote" id="_footnoteref_5" href="#_footnote_5" title="View footnote.">5</a>]</span></p></li><li><p>Trim Weights <span class="footnote">[<a class="footnote" id="_footnoteref_6" href="#_footnote_6" title="View footnote.">6</a>]</span></p></li><li><p><i class="fa fa-check-square-o"></i> Export Materials</p></li></ul></div></li><li><p>Click Export Ogre.</p></li></ol></div>
<div class="paragraph"><p>You can now use the <a href="../../sdk.html">jMonkeyEngine SDK</a> to <a href="../../sdk/model_loader_and_viewer.html">load and view models</a>. You can <a href="../../sdk/scene_composer.html">create scenes</a> from them and write code that loads them into your application.</p></div></div></div>
<div class="sect1"><h2 id="blender-buffer-clearing">Blender Buffer Clearing</h2><div class="sectionbody"><div class="paragraph"><p>Before exporting your Blender models, its is recommended that you clean the buffers of any unneeded <code>Action</code>, <code>Material</code>, <code>Texture</code> or <code>UV Image</code>. This is a straight forward process that only takes a few minutes. Failure to do so can lead you into a morass of problems, like having more than one AnimControl, duplicate materials and textures, wasted space from worthless images, just to mention a few potential troubles.</p></div>
<div class="dlist"><dl><dt class="hdlist1">Clearing Blender Material, Texture, UV Image Buffers</dt><dd><div class="olist arabic"><ol class="arabic"><li><p>Open the <code>UV Image Editor</code>, <code>Material Tab</code> or <code>Texture Tab</code>.</p></li><li><p>Select the <b class="button">Browse</b> button located next to the material, texture or UV Image name to load the item to be cleared.</p></li><li><p>While holding <kbd>Shift</kbd> down, click the <b class="button">X</b> button, also known as the <b class="button">Unlink datablock</b> button, located next to the loaded item. An item that is unlinked will show a <code>0</code> before it when viewed by selecting the <b class="button">Browse</b> button and will not be saved if you exit Blender.</p></li><li><p>Save your file.</p></li><li><p>From the <code>Info</code> header select <code><span class="menuseq"><span class="menu">File</span>&#160;&#9656; <span class="submenu">Open Recent</span>&#160;&#9656; <span class="menuitem">Your Saved File</span></span></code>, to close and re-open your file.</p></li></ol></div></dd></dl></div>
<div class="paragraph"><p>The exception to this rule is the <code>Linked Action</code> buffer, for animations, located in the <code>Dope Sheet Editor</code>.</p></div>
<div class="dlist"><dl><dt class="hdlist1">Clearing The Linked Action Buffer</dt><dd><div class="olist arabic"><ol class="arabic"><li><p>In the <code>Dope Sheet Editor</code>, change the context to <code>Action Editor</code>.</p></li><li><p>Click the <code>Action to be linked</code> button and select the action you want cleared.</p></li><li><p>Deselect the <b class="button">F</b> button to prevent it from saving.</p></li><li><p>Change the editor type from <code>Dope Sheet</code> to <code>NLA Editor</code>. You will see the action listed.</p></li><li><p>Click the <b class="button">Double Down Arrow</b> button next to the action to push it into the stack.</p></li><li><p>Click the small start next to the track name.</p></li><li><p>With the mouse inside the <code>NLA Track List</code>,Â  press <kbd>X</kbd> to delete both the track and strip.</p></li><li><p>Save your file.</p></li><li><p>From the <code>Info</code> header, select <code><span class="menuseq"><span class="menu">File</span>&#160;&#9656; <span class="submenu">Open Recent</span>&#160;&#9656; <span class="menuitem">Your Saved File</span></span></code>.</p></li><li><p>Save your file again.</p></li><li><p>From the <code>Info</code> header, select <code><span class="menuseq"><span class="menu">File</span>&#160;&#9656; <span class="submenu">Open Recent</span>&#160;&#9656; <span class="menuitem">Your Saved File</span></span></code> again.</p></li><li><p>Change back to the <code>Dope Sheet Editor</code>.</p></li><li><p>Click the <b class="button">Browse Action to be linked</b> button and you will see only the baked action remains and the buffer is now clear of unwanted actions. Select your action.</p></li><li><p>Save your file.</p></li></ol></div></dd></dl></div></div></div></div><div id="footnotes"><hr><div class="footnote" id="_footnote_1"><a href="#_footnoteref_1">1</a>. Optional: If selected, and you have an Armature with the model, only the deform bones are exported.</div><div class="footnote" id="_footnote_2"><a href="#_footnoteref_2">2</a>. Toggle this to export your model in DotScene format</div><div class="footnote" id="_footnote_3"><a href="#_footnoteref_3">3</a>. Optional: If selected, you manually choose each object you want exported prior to opening the export dialog.</div><div class="footnote" id="_footnote_4"><a href="#_footnoteref_4">4</a>. Optional: If selected, it will overwrite the existing files in the target directory</div><div class="footnote" id="_footnote_5"><a href="#_footnoteref_5">5</a>. Optional: Only used if the model contains an armature.</div><div class="footnote" id="_footnote_6"><a href="#_footnoteref_6">6</a>. Occasionally when exporting you may get a warning complaining about vertices weighted to too many bones. You are then asked to try increasing the trim weights option. Slightly increase this spinner and try exporting again. Repeat the process until the warning goes away.</div></div><div id="footer"><div id="footer-text">Version <br>Last updated 2017-11-14 05:28:25 +00:00</div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});</script></body></html>