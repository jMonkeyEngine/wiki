<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.4"><meta name="keywords" content="gui, documentation, nifty, hud"><title>Laying Out the GUI in Java</title><link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"></head><body class="article toc2 toc-left"><div id="header"><div id="toolbar"><a href="https://github.com/jMonkeyEngine/wiki/edit/master/src/docs/asciidoc/jme3/advanced/nifty_gui_java_layout.adoc"><i class="fa fa-pencil-square" aria-hidden="true"></i></a><a href="https://github.com/jMonkeyEngine/wiki/new/master/src/docs/asciidoc/jme3/advanced/"><i class="fa fa-plus-square" aria-hidden="true"></i></a><input dir="auto" style="position: relative; vertical-align: top;" spellcheck="false" autocomplete="off" class="searchbox__input aa-input" id="doc-search" name="search" placeholder="Search in the doc" required="required" type="search"></div><h1>Laying Out the GUI in Java</h1><div class="details"><span class="author" id="author"></span><br><span id="revnumber">version ,</span> <span id="revdate">2016/03/17 20:48</span></div><div id="toc" class="toc2"><div id="toctitle">Table of Contents</div><ul class="sectlevel1"><li><a href="#sample-code">Sample Code</a></li><li><a href="#implement-your-gui-layout">Implement Your GUI Layout</a><ul class="sectlevel2"><li><a href="#make-screens">Make Screens</a></li><li><a href="#make-layers">Make Layers</a></li><li><a href="#make-panels">Make Panels</a></li></ul></li><li><a href="#adding-content-to-panels">Adding Content to Panels</a><ul class="sectlevel2"><li><a href="#add-images">Add Images</a></li><li><a href="#add-static-text">Add Static Text</a></li><li><a href="#add-controls">Add Controls</a></li></ul></li><li><a href="#intermediate-result">Intermediate Result</a></li><li><a href="#nifty-java-settings">Nifty Java Settings</a></li><li><a href="#next-steps">Next Steps</a></li></ul></div></div><div id="content"><div id="preamble"><div class="sectionbody"><div class="olist arabic"><ol class="arabic"><li><p><a href="../../jme3/advanced/nifty_gui.html">Nifty GUI Concepts</a></p></li><li><p><a href="../../jme3/advanced/nifty_gui_best_practices.html">Nifty GUI Best Practices</a></p></li><li><p><a href="../../jme3/advanced/nifty_gui_xml_layout.html">Nifty GUI XML Layout</a> or <strong>Nifty <abbr title="Graphical User Interface">GUI</abbr> Java Layout</strong></p></li><li><p><a href="../../jme3/advanced/nifty_gui_overlay.html">Nifty GUI Overlay</a> or <a href="../../jme3/advanced/nifty_gui_projection.html">Nifty GUI Projection</a></p></li><li><p><a href="../../jme3/advanced/nifty_gui_java_interaction.html">Interact with the GUI from Java</a></p></li></ol></div>
<div class="paragraph"><p><strong>Work in progress</strong> You can “draw the <abbr title="Graphical User Interface">GUI</abbr> to the screen by writing Java code – alternatively to using XML. Typically you lay out the static base <abbr title="Graphical User Interface">GUI</abbr> in XML, and use Java commands if you need to change the <abbr title="Graphical User Interface">GUI</abbr> dynamically at runtime. In theory, you can also lay out the whole <abbr title="Graphical User Interface">GUI</abbr> in Java (but we don&#8217;t cover that here).</p></div></div></div>
<div class="sect1"><h2 id="sample-code">Sample Code</h2><div class="sectionbody"><div class="paragraph"><p>Sample project</p></div>
<div class="ulist"><ul><li><p><strong>Original Source Code:</strong> <a href="http://nifty-gui.svn.sourceforge.net/viewvc/nifty-gui/nifty-default-controls-examples/trunk/src/main/java/de/lessvoid/nifty/examples/">/nifty-default-controls-examples/trunk/src/main/java/de/lessvoid/nifty/examples/</a>.<br></p></li><li><p><strong>Download demo project:</strong> <a href="http://files.seapegasus.org/NiftyGuiDemo.zip">http://files.seapegasus.org/NiftyGuiDemo.zip</a> (jme3-ready) +The full demo ZIP is based on <code>de.lessvoid.nifty.examples.controls.ControlsDemo.java</code>.</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>The demo is a SimpleApplication-based game (use e.g. the BasicGame template in the jMonkeyEngine SDK).</p></li><li><p>Copy images and sound files into your project&#8217;s <code>assets/Interface/</code> directory. (In this example, I copied them from <code>nifty-default-controls-examples/trunk/src/main/resources/</code> to <code>assets/Interface/</code>).</p></li><li><p>Make sure to use paths relative to your project&#8217;s <code>assets/</code> directory.</p><div class="ulist"><ul><li><p>E.g. for .fnt/.png/.jpg files use <code>filename(“Interface/yang.png);</code> ( not <code>filename(“yang.png);</code>).</p></li><li><p>E.g. for .wav/.ogg files use <code>filename(“Interface/sounds/gong.wav);</code> (not <code>filename(“sounds/gong.wav);</code>).</p></li></ul></div></li></ol></div></li></ul></div>
<div class="paragraph"><p>Just so you get a quick picture what Nifty <abbr title="Graphical User Interface">GUI</abbr>'s Java Syntax looks like, here is the most basic example. It creates a screen with a layer and a panel that contains a button.</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">mygame</span>;

<span class="keyword">import</span> <span class="include">com.jme3.app.SimpleApplication</span>;
<span class="keyword">import</span> <span class="include">com.jme3.niftygui.NiftyJmeDisplay</span>;
<span class="keyword">import</span> <span class="include">de.lessvoid.nifty.Nifty</span>;
<span class="keyword">import</span> <span class="include">de.lessvoid.nifty.builder.ScreenBuilder</span>;
<span class="keyword">import</span> <span class="include">de.lessvoid.nifty.builder.LayerBuilder</span>;
<span class="keyword">import</span> <span class="include">de.lessvoid.nifty.builder.PanelBuilder</span>;
<span class="keyword">import</span> <span class="include">de.lessvoid.nifty.controls.button.builder.ButtonBuilder</span>;
<span class="keyword">import</span> <span class="include">de.lessvoid.nifty.screen.DefaultScreenController</span>;

<span class="comment">/**
 * @author iamcreasy
*/</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Main</span> <span class="directive">extends</span> SimpleApplication {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        Main app = <span class="keyword">new</span> Main();
        app.start();
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> simpleInitApp() {
    NiftyJmeDisplay niftyDisplay = NiftyJmeDisplay.newNiftyJmeDisplay(
            assetManager, inputManager, audioRenderer, guiViewPort);
    Nifty nifty = niftyDisplay.getNifty();
    guiViewPort.addProcessor(niftyDisplay);
    flyCam.setDragToRotate(<span class="predefined-constant">true</span>);

    nifty.loadStyleFile(<span class="string"><span class="delimiter">&quot;</span><span class="content">nifty-default-styles.xml</span><span class="delimiter">&quot;</span></span>);
    nifty.loadControlFile(<span class="string"><span class="delimiter">&quot;</span><span class="content">nifty-default-controls.xml</span><span class="delimiter">&quot;</span></span>);

    <span class="comment">// &lt;screen&gt;</span>
    nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">Screen_ID</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello Nifty Screen</span><span class="delimiter">&quot;</span></span>){{
        controller(<span class="keyword">new</span> DefaultScreenController()); <span class="comment">// Screen properties</span>

        <span class="comment">// &lt;layer&gt;</span>
        layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">Layer_ID</span><span class="delimiter">&quot;</span></span>) {{
            childLayoutVertical(); <span class="comment">// layer properties, add more...</span>

            <span class="comment">// &lt;panel&gt;</span>
            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">Panel_ID</span><span class="delimiter">&quot;</span></span>) {{
               childLayoutCenter(); <span class="comment">// panel properties, add more...</span>

                <span class="comment">// GUI elements</span>
                control(<span class="keyword">new</span> ButtonBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">Button_ID</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Hello Nifty</span><span class="delimiter">&quot;</span></span>){{
                    alignCenter();
                    valignCenter();
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">5%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">15%</span><span class="delimiter">&quot;</span></span>);
                }});

                <span class="comment">//.. add more GUI elements here</span>

            }});
            <span class="comment">// &lt;/panel&gt;</span>
          }});
        <span class="comment">// &lt;/layer&gt;</span>
      }}.build(nifty));
    <span class="comment">// &lt;/screen&gt;</span>

    nifty.gotoScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">Screen_ID</span><span class="delimiter">&quot;</span></span>); <span class="comment">// start the screen</span>
    }
}</code></pre></div></div></div></div>
<div class="sect2"><h3 id="implement-your-gui-layout">Implement Your GUI Layout</h3><div style="text-align: right;" class="imageblock"><div class="content"><img src="../../jme3/advanced/gui-layout-draft.png" alt="gui-layout-draft.png" width="" height=""></div></div>
<div class="paragraph"><p>In this tutorial, you recreate the same screen as in the Nifty <abbr title="Graphical User Interface">GUI</abbr> XML example.</p></div>
<div class="paragraph"><p>Create an Screen.Java file in the <code>assets/Interfaces/</code> directory of your project. One Java file can contain several, or even all screens. As a reminder: Nifty displays one screen at a time; a screen contains several layers on top of one another; each layer contains panels that are embedded into another; the panels contain the actual content (text, images, or controls).</p></div>
<div class="sect2"><h3 id="make-screens">Make Screens</h3><div class="paragraph"><p>The following minimal Java file contains a start screen and a HUD screen. (Neither has been defined yet.)</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>){{
    controller(<span class="keyword">new</span> DefaultScreenController());
    <span class="comment">// &lt;!-- ... --&gt;</span>
  }}.build(nifty));

nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">hud</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">hud</span><span class="delimiter">&quot;</span></span>){{
    controller(<span class="keyword">new</span> DefaultScreenController());
    <span class="comment">// &lt;!-- ... --&gt;</span>
  }}.build(nifty));</code></pre></div></div>
<div class="paragraph"><p>Every Nifty <abbr title="Graphical User Interface">GUI</abbr> must have a start screen. The others (in this example, the HUD screen) are optional.</p></div></div>
<div class="sect2"><h3 id="make-layers">Make Layers</h3><div class="paragraph"><p>The following Java code shows how we add layers to the start screen and HUD screen:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>){{
        controller(<span class="keyword">new</span> DefaultScreenController());

         <span class="comment">// layer added</span>
         layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">background</span><span class="delimiter">&quot;</span></span>) {{
            childLayoutCenter();
            backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#000f</span><span class="delimiter">&quot;</span></span>);

            <span class="comment">// &lt;!-- ... --&gt;</span>
         }});

         layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">foreground</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutVertical();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0000</span><span class="delimiter">&quot;</span></span>);

            <span class="comment">// &lt;!-- ... --&gt;</span>
         }});
         <span class="comment">// layer added</span>

      }}.build(nifty));</code></pre></div></div>
<div class="paragraph"><p>Repeat the same, but use</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code>nifty.addScreen("hud", new ScreenBuilder("hud"){{</code></pre></div></div>
<div class="literalblock"><div class="content"><pre>for the HUD screen.</pre></div></div>
<div class="paragraph"><p>In a layer, you can now add panels and arrange them. Panels are containers that mark the areas where you want to display text, images, or controls (buttons etc) later.</p></div></div>
<div class="sect2"><h3 id="make-panels">Make Panels</h3><div class="paragraph"><p>A panel is the inner-most container (that will contain the actual content: text, images, or controls). You place panels inside layers. The following panels go into in the <code>start</code> screen:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">    nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>) {{
        controller(<span class="keyword">new</span> DefaultScreenController());
        layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">background</span><span class="delimiter">&quot;</span></span>) {{
            childLayoutCenter();
            backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#000f</span><span class="delimiter">&quot;</span></span>);
            <span class="comment">// &lt;!-- ... --&gt;</span>
        }});

        layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">foreground</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutVertical();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0000</span><span class="delimiter">&quot;</span></span>);

            <span class="comment">// panel added</span>
            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_top</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutCenter();
                alignCenter();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#f008</span><span class="delimiter">&quot;</span></span>);
                height(<span class="string"><span class="delimiter">&quot;</span><span class="content">25%</span><span class="delimiter">&quot;</span></span>);
                width(<span class="string"><span class="delimiter">&quot;</span><span class="content">75%</span><span class="delimiter">&quot;</span></span>);
            }});

            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_mid</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutCenter();
                alignCenter();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0f08</span><span class="delimiter">&quot;</span></span>);
                height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                width(<span class="string"><span class="delimiter">&quot;</span><span class="content">75%</span><span class="delimiter">&quot;</span></span>);
            }});

            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_bottom</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutHorizontal();
                alignCenter();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#00f8</span><span class="delimiter">&quot;</span></span>);
                height(<span class="string"><span class="delimiter">&quot;</span><span class="content">25%</span><span class="delimiter">&quot;</span></span>);
                width(<span class="string"><span class="delimiter">&quot;</span><span class="content">75%</span><span class="delimiter">&quot;</span></span>);

                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_bottom_left</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    valignCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#44f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                }});

                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_bottom_right</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    valignCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#88f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                }});
            }}); <span class="comment">// panel added</span>
        }});

    }}.build(nifty));</code></pre></div></div>
<div class="paragraph"><p>The following panels go into in the <code>hud</code> screen:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="Java">    nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">hud</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">hud</span><span class="delimiter">&quot;</span></span>) {{
        controller(<span class="keyword">new</span> DefaultScreenController());

        layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">background</span><span class="delimiter">&quot;</span></span>) {{
            childLayoutCenter();
            backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#000f</span><span class="delimiter">&quot;</span></span>);
            <span class="comment">// &lt;!-- ... --&gt;</span>
        }});

        layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">foreground</span><span class="delimiter">&quot;</span></span>) {{
            childLayoutHorizontal();
            backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0000</span><span class="delimiter">&quot;</span></span>);

            <span class="comment">// panel added</span>
            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_left</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutVertical();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0f08</span><span class="delimiter">&quot;</span></span>);
                height(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                width(<span class="string"><span class="delimiter">&quot;</span><span class="content">80%</span><span class="delimiter">&quot;</span></span>);
                <span class="comment">// &lt;!-- spacer --&gt;</span>
            }});

            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_right</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutVertical();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#00f8</span><span class="delimiter">&quot;</span></span>);
                height(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                width(<span class="string"><span class="delimiter">&quot;</span><span class="content">20%</span><span class="delimiter">&quot;</span></span>);

                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_top_right1</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#00f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">15%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                }});

                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_top_right2</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#44f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">15%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                }});

                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_bot_right</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    valignCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#88f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">70%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                }});
            }}); <span class="comment">// panel added</span>
        }});
    }}.build(nifty));</code></pre></div></div>
<div class="paragraph"><p>Try the sample. Remember to activate a screen using <code>nifty.gotoScreen(“start);</code> or <code>hud</code> respectively.
The result should look as follows:</p></div>
<div style="text-align: center;" class="imageblock"><div class="content"><img src="../../jme3/advanced/nifty-gui-panels.png" alt="nifty-gui-panels.png" width="" height=""></div></div></div></div>
<div class="sect2"><h3 id="adding-content-to-panels">Adding Content to Panels</h3><div class="paragraph"><p>See also <a href="http://sourceforge.net/apps/mediawiki/nifty-gui/index.php?title=Layout_Introduction">Layout Introduction</a> on the Nifty <abbr title="Graphical User Interface">GUI</abbr> site.</p></div>
<div class="sect2"><h3 id="add-images">Add Images</h3><div class="paragraph"><p>The start-background.png image is a fullscreen background picture. In the <code>start</code> screen, add the following image element:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">    nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">start</span><span class="delimiter">&quot;</span></span>) {{
        controller(<span class="keyword">new</span> DefaultScreenController());
        layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">background</span><span class="delimiter">&quot;</span></span>) {{
            childLayoutCenter();
            backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#000f</span><span class="delimiter">&quot;</span></span>);

            <span class="comment">// add image</span>
            image(<span class="keyword">new</span> ImageBuilder() {{
                filename(<span class="string"><span class="delimiter">&quot;</span><span class="content">Interface/tutorial/start-background.png</span><span class="delimiter">&quot;</span></span>);
            }});

        }});</code></pre></div></div>
<div class="paragraph"><p>The hud-frame.png image is a transparent frame that we use as HUD decoration. In the <code>hud</code> screen, add the following image element:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">    nifty.addScreen(<span class="string"><span class="delimiter">&quot;</span><span class="content">hud</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> ScreenBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">hud</span><span class="delimiter">&quot;</span></span>) {{
        controller(<span class="keyword">new</span> DefaultScreenController());

        layer(<span class="keyword">new</span> LayerBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">background</span><span class="delimiter">&quot;</span></span>) {{
            childLayoutCenter();
            backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#000f</span><span class="delimiter">&quot;</span></span>);

            <span class="comment">// add image</span>
            image(<span class="keyword">new</span> ImageBuilder() {{
                filename(<span class="string"><span class="delimiter">&quot;</span><span class="content">Interface/tutorial/hud-frame.png</span><span class="delimiter">&quot;</span></span>);
            }});

        }});</code></pre></div></div>
<div class="paragraph"><p>The face1.png image is an image that you want to use as a status icon.
In the <code>hud</code> screen&#8217;s <code>foreground</code> layer, add the following image element:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_top_right2</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#44f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">15%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);

                    <span class="comment">// add image</span>
                    image(<span class="keyword">new</span> ImageBuilder() {{
                        filename(<span class="string"><span class="delimiter">&quot;</span><span class="content">Interface/tutorial/face1.png</span><span class="delimiter">&quot;</span></span>);
                        valignCenter();
                        alignCenter();
                        height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                        width(<span class="string"><span class="delimiter">&quot;</span><span class="content">30%</span><span class="delimiter">&quot;</span></span>);
                    }});

                }});</code></pre></div></div>
<div class="paragraph"><p>This image is scaled to use 50% of the height and 30% of the width of its container.</p></div></div>
<div class="sect2"><h3 id="add-static-text">Add Static Text</h3><div class="paragraph"><p>The game title is a typical example of static text. In the <code>start</code> screen, add the following text element:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">           <span class="comment">// panel added</span>
            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_top</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutCenter();
                alignCenter();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#f008</span><span class="delimiter">&quot;</span></span>);
                height(<span class="string"><span class="delimiter">&quot;</span><span class="content">25%</span><span class="delimiter">&quot;</span></span>);
                width(<span class="string"><span class="delimiter">&quot;</span><span class="content">75%</span><span class="delimiter">&quot;</span></span>);

                <span class="comment">// add text</span>
                text(<span class="keyword">new</span> TextBuilder() {{
                    text(<span class="string"><span class="delimiter">&quot;</span><span class="content">My Cool Game</span><span class="delimiter">&quot;</span></span>);
                    font(<span class="string"><span class="delimiter">&quot;</span><span class="content">Interface/Fonts/Default.fnt</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                }});

            }});</code></pre></div></div>
<div class="paragraph"><p>For longer pieces of static text, such as an introduction, you can use wrap=“true. Add the following text element to the <code>Start screen</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">            panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_mid</span><span class="delimiter">&quot;</span></span>) {{
                childLayoutCenter();
                alignCenter();
                backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0f08</span><span class="delimiter">&quot;</span></span>);
                height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                width(<span class="string"><span class="delimiter">&quot;</span><span class="content">75%</span><span class="delimiter">&quot;</span></span>);
                <span class="comment">// add text</span>
                text(<span class="keyword">new</span> TextBuilder() {{
                    text(<span class="string"><span class="delimiter">&quot;</span><span class="content">Here goes some text describing the game and the rules and stuff. </span><span class="delimiter">&quot;</span></span>+
                         <span class="string"><span class="delimiter">&quot;</span><span class="content">Incidentally, the text is quite long and needs to wrap at the end of lines. </span><span class="delimiter">&quot;</span></span>);
                    font(<span class="string"><span class="delimiter">&quot;</span><span class="content">Interface/Fonts/Default.fnt</span><span class="delimiter">&quot;</span></span>);
                    wrap(<span class="predefined-constant">true</span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                }});

            }});</code></pre></div></div>
<div class="paragraph"><p>The font used is jME3&#8217;s default font “Interface/Fonts/Default.fnt which is included in the jMonkeyEngine.JAR. You can add your own fonts to your own <code>assets/Interface</code> directory.</p></div></div>
<div class="sect2"><h3 id="add-controls">Add Controls</h3><div class="paragraph"><p>Before you can use any control, you must load a Control Definition first. Add the following two lines <em>before</em> your screen definitions:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">    nifty.loadStyleFile(<span class="string"><span class="delimiter">&quot;</span><span class="content">nifty-default-styles.xml</span><span class="delimiter">&quot;</span></span>);
    nifty.loadControlFile(<span class="string"><span class="delimiter">&quot;</span><span class="content">nifty-default-controls.xml</span><span class="delimiter">&quot;</span></span>);</code></pre></div></div>
<div class="sect3"><h4 id="label-control">Label Control</h4><div class="paragraph"><p>Use label controls for text that you want to edit dynamically from Java. One example for this is the score display.
In the <code>hud</code> screen&#8217;s <code>foreground</code> layer, add the following text element:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_top_right1</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#00f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">15%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);

                    control(<span class="keyword">new</span> LabelBuilder(){{
                        color(<span class="string"><span class="delimiter">&quot;</span><span class="content">#000</span><span class="delimiter">&quot;</span></span>);
                        text(<span class="string"><span class="delimiter">&quot;</span><span class="content">123</span><span class="delimiter">&quot;</span></span>);
                        width(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                        height(<span class="string"><span class="delimiter">&quot;</span><span class="content">100%</span><span class="delimiter">&quot;</span></span>);
                    }});</code></pre></div></div>
<div class="paragraph"><p>Note that the width and height do not scale the bitmap font, but make indirectly certain it is centered. If you want a different size for the font, you need to provide an extra bitmap font (they come with fixes sizes and don&#8217;t scale well).</p></div></div>
<div class="sect3"><h4 id="button-control">Button Control</h4><div class="paragraph"><p>Our <abbr title="Graphical User Interface">GUI</abbr> plan asks for two buttons on the start screen. You add the Start and Quit buttons to the bottom panel of the <code>start</code> screen using the <code>&lt;control&gt;</code> element:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_bottom_left</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    valignCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#44f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);

                    <span class="comment">// add control</span>
                    control(<span class="keyword">new</span> ButtonBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">StartButton</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Start</span><span class="delimiter">&quot;</span></span>) {{
                      alignCenter();
                      valignCenter();
                      height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                      width(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                    }});

                }});

                panel(<span class="keyword">new</span> PanelBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">panel_bottom_right</span><span class="delimiter">&quot;</span></span>) {{
                    childLayoutCenter();
                    valignCenter();
                    backgroundColor(<span class="string"><span class="delimiter">&quot;</span><span class="content">#88f8</span><span class="delimiter">&quot;</span></span>);
                    height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                    width(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);

                    <span class="comment">// add control</span>
                    control(<span class="keyword">new</span> ButtonBuilder(<span class="string"><span class="delimiter">&quot;</span><span class="content">QuitButton</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Quit</span><span class="delimiter">&quot;</span></span>) {{
                      alignCenter();
                      valignCenter();
                      height(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                      width(<span class="string"><span class="delimiter">&quot;</span><span class="content">50%</span><span class="delimiter">&quot;</span></span>);
                    }});

                }});</code></pre></div></div>
<div class="paragraph"><p>Note that these controls don&#8217;t do anything yet – we&#8217;ll get to that soon.</p></div></div>
<div class="sect3"><h4 id="other-controls">Other Controls</h4><div class="paragraph"><p>Nifty additionally offers many customizable controls such as check boxes, text fields, menus, chats, tabs, … See also <a href="http://sourceforge.net/apps/mediawiki/nifty-gui/index.php?title=Elements">Elements</a> on the Nifty <abbr title="Graphical User Interface">GUI</abbr> site.</p></div></div></div></div>
<div class="sect1"><h2 id="intermediate-result">Intermediate Result</h2><div class="sectionbody"><div class="paragraph"><p>When you preview this code in the jMonkeyEngine SDK, our tutorial demo should looks as follows: A start screen with two buttons, and a game screen with a simple HUD frame and a blue cube (which stands for any jME3 game content).</p></div>
<div class="paragraph"><p><strong>Tip:</strong> Remove all lines that set background colors, you only needed them to see the arrangement.</p></div>
<div style="text-align: center;" class="imageblock"><div class="content"><img src="../../jme3/advanced/nifty-gui-simple-demo.png" alt="nifty-gui-simple-demo.png" width="" height=""></div></div></div></div>
<div class="sect1"><h2 id="nifty-java-settings">Nifty Java Settings</h2><div class="sectionbody"><div class="paragraph"><p>Before initializing the nifty screens, you set up properties and register media.</p></div>
<table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Nifty Method</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>registerSound(“mysound, “Interface/abc.wav);</p></div></div></td><td class="tableblock halign-left valign-top"><div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>registerMusic(“mymusic, “Interface/xyz.ogg);</p></div></div></td><td class="tableblock halign-left valign-top"><div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>registerMouseCursor(“mypointer, “Interface/abc.png, 5, 4);</p></div></div></td><td class="tableblock halign-left valign-top"><div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>registerEffect(?);</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>?</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>setDebugOptionPanelColors(true);</p></div></div></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Highlight all panels, makes it easier to arrange them.</p></div></div></td></tr></tbody></table>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java">nifty.registerMouseCursor(<span class="string"><span class="delimiter">&quot;</span><span class="content">hand</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Interface/mouse-cursor-hand.png</span><span class="delimiter">&quot;</span></span>, <span class="integer">5</span>, <span class="integer">4</span>);</code></pre></div></div></div></div>
<div class="sect1"><h2 id="next-steps">Next Steps</h2><div class="sectionbody"><div class="paragraph"><p>Integrate the <abbr title="Graphical User Interface">GUI</abbr> into the game. Typically, you will overlay the <abbr title="Graphical User Interface">GUI</abbr>.</p></div>
<div class="ulist"><ul><li><p><a href="../../jme3/advanced/nifty_gui_overlay.html">Nifty GUI Overlay</a> (recommended)</p></li><li><p><a href="../../jme3/advanced/nifty_gui_projection.html">Nifty GUI Projection</a> (optional)</p></li></ul></div></div></div></div><div id="footer"><div id="footer-text">Version <br>Last updated 2017-11-14 05:28:25 +00:00</div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});</script></body></html>